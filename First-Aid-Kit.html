
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>6. First-Aid Kit &#8212; Mastering Dyalog APL</title>
    
  <link rel="stylesheet" href="_static/css/index.f658d18f9b420779cfdf24aa0a7e2d77.css">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/sphinx-book-theme.40e2e510f6b7d1648584402491bb10fe.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.d3f166471bb80abb5163.js">

    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.d31b09fe5c1d09cb49b26a786de4a05d.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="7. Execute &amp; Format Control" href="Execute-and-Format-Control.html" />
    <link rel="prev" title="5. User-Defined Functions" href="User-Defined-Functions.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="index.html">
  
  
  <h1 class="site-logo" id="site-title">Mastering Dyalog APL</h1>
  
</a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <ul class="current nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="Introduction.html">
   1. Introduction - Will You Play APL With Me?
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Getting-Started.html">
   2. Getting Started
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Data-and-Variables.html">
   3. Data and Variables
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Some-Primitive-Functions.html">
   4. Some Primitive Functions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="User-Defined-Functions.html">
   5. User-Defined Functions
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   6. First-Aid Kit
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Execute-and-Format-Control.html">
   7. Execute &amp; Format Control
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Working-on-Data-Shape.html">
   8. Working on Data Shape
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Appendices.html">
   9. Appendices
  </a>
 </li>
</ul>

</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/First-Aid-Kit.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

        <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/Dyalog/MDAPL"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        
        <a class="edit-button" href="https://github.com/Dyalog/MDAPL/edit/master/First-Aid-Kit.ipynb"><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Edit this page"><i class="fas fa-pencil-alt"></i>suggest edit</button></a>
    </div>
</div>


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#when-an-error-occurs">
   6.1. When an Error Occurs
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#our-first-error">
     6.1.1. Our First Error
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#your-environment-and-indicators">
       6.1.1.1. Your Environment and Indicators
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#the-diagnostic-message">
       6.1.1.2. The Diagnostic Message
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#state-indicator-and-line-counter">
       6.1.1.3. State Indicator and Line Counter
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#the-trace-window">
       6.1.1.4. The Trace Window
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#you-can-see-the-local-variables">
       6.1.1.5. You Can See the Local Variables
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#what-can-we-do">
       6.1.1.6. What Can We Do?
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cascade-of-errors">
     6.1.2. Cascade of Errors
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#preparation">
       6.1.2.1. Preparation
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#let-us-create-more-errors">
       6.1.2.2. Let Us Create More Errors
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#switch-to-edit-mode">
       6.1.2.3. Switch to Edit Mode
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#continue-execution">
       6.1.2.4. Continue Execution
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#information-and-actions">
     6.1.3. Information and Actions
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#indicators">
       6.1.3.1. Indicators
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#some-possible-actions">
       6.1.3.2. Some Possible Actions
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#why-should-you-reset-your-state-indicator">
     6.1.4. Why Should You Reset Your State Indicator?
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#most-frequent-error-messages">
   6.2. Most Frequent Error Messages
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#execution-errors">
     6.2.1. Execution Errors
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#value-error-en-6">
       6.2.1.1.
       <code class="docutils literal notranslate">
        <span class="pre">
         VALUE
        </span>
        <span class="pre">
         ERROR
        </span>
       </code>
       (
       <code class="docutils literal notranslate">
        <span class="pre">
         ⎕EN
        </span>
        <span class="pre">
         =
        </span>
        <span class="pre">
         6
        </span>
       </code>
       )
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#length-error-en-5">
       6.2.1.2.
       <code class="docutils literal notranslate">
        <span class="pre">
         LENGTH
        </span>
        <span class="pre">
         ERROR
        </span>
       </code>
       (
       <code class="docutils literal notranslate">
        <span class="pre">
         ⎕EN
        </span>
        <span class="pre">
         =
        </span>
        <span class="pre">
         5
        </span>
       </code>
       )
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#rank-error-en-4">
       6.2.1.3.
       <code class="docutils literal notranslate">
        <span class="pre">
         RANK
        </span>
        <span class="pre">
         ERROR
        </span>
       </code>
       (
       <code class="docutils literal notranslate">
        <span class="pre">
         ⎕EN=4
        </span>
       </code>
       )
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#index-error-en-3">
       6.2.1.4.
       <code class="docutils literal notranslate">
        <span class="pre">
         INDEX
        </span>
        <span class="pre">
         ERROR
        </span>
       </code>
       (
       <code class="docutils literal notranslate">
        <span class="pre">
         ⎕EN=3
        </span>
       </code>
       )
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#domain-error-en-11">
       6.2.1.5.
       <code class="docutils literal notranslate">
        <span class="pre">
         DOMAIN
        </span>
        <span class="pre">
         ERROR
        </span>
       </code>
       (
       <code class="docutils literal notranslate">
        <span class="pre">
         ⎕EN=11
        </span>
       </code>
       )
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#syntax-error-en-2">
       6.2.1.6.
       <code class="docutils literal notranslate">
        <span class="pre">
         SYNTAX
        </span>
        <span class="pre">
         ERROR
        </span>
       </code>
       (
       <code class="docutils literal notranslate">
        <span class="pre">
         ⎕EN=2
        </span>
       </code>
       )
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#ws-full-en-1">
       6.2.1.7.
       <code class="docutils literal notranslate">
        <span class="pre">
         WS
        </span>
        <span class="pre">
         FULL
        </span>
       </code>
       (
       <code class="docutils literal notranslate">
        <span class="pre">
         ⎕EN=1
        </span>
       </code>
       )
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#some-other-errors">
     6.2.2. Some Other Errors
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#can-t-fix">
       6.2.2.1. Can’t Fix
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#not-saved-this-ws-is">
       6.2.2.2. Not Saved, This Ws Is…
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#trace-tools">
   6.3. Trace Tools
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#invoke-and-use-the-tracer">
     6.3.1. Invoke and Use the Tracer
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#invoke-the-tracer">
       6.3.1.1. Invoke the Tracer
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#trace-actions">
       6.3.1.2. Trace Actions
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#trace-strategies">
       6.3.1.3. Trace Strategies
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#choose-your-configuration">
     6.3.2. Choose your Configuration
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#breakpoints-and-trace-controls">
     6.3.3. Breakpoints and Trace-Controls
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#set-breakpoints">
       6.3.3.1. Set Breakpoints
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#remove-breakpoints">
       6.3.3.2. Remove Breakpoints
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#programmatically-setting-breakpoints">
       6.3.3.3. Programmatically Setting Breakpoints
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#intentional-interruption">
       6.3.3.4. Intentional Interruption
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#trace-controls">
       6.3.3.5. Trace-Controls
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#exercises">
   6.4. Exercises
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#the-specialist-s-section">
   6.5. The Specialist’s Section
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#value-errors">
     6.5.1. Value Errors
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#namespaces">
       6.5.1.1. Namespaces
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#nightmare">
       6.5.1.2. Nightmare
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#sinl">
       6.5.1.3.
       <code class="docutils literal notranslate">
        <span class="pre">
         )sinl
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#namespaces-and-indicators">
       6.5.1.4. Namespaces and Indicators
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#extended-state-indicator">
         6.5.1.4.1. Extended State Indicator
        </a>
       </li>
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#namespace-indicator">
         6.5.1.4.2. Namespace Indicator
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>

        </nav>
        
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="first-aid-kit">
<span id="first-aid-kit-first-aid-kit"></span><h1><span class="section-number">6. </span>First-Aid Kit<a class="headerlink" href="#first-aid-kit" title="Permalink to this headline">¶</a></h1>
<p>It’s a pity, but it is impossible to develop applications that work perfectly.
Applications always contain errors due to programming mistakes, incorrect use of function calls, or external reasons, such as a missing file or the abnormal termination of an external (non-APL) piece of code.</p>
<p>All these problems may interrupt the normal processing of an application, and require immediate corrective action.
The aim of this chapter is to give you the basis to deal with these situations, and work through the experience.</p>
<p>In <span class="xref myst">a later chapter</span> you will see that it is possible to trap and hide unpredictable errors or events, in order to provide a safe environment for the user.</p>
<p>Because APL is an interpreted language, program execution is not aborted, just suspended when an exception occurs.
Then the programmer has access to all the application variables, and can diagnose the problem.
If they can modify the code or correct some environmental dependency, they may be able to restart the program from the very point it had been interrupted in, until a new exception occurs, and so on.
This gives great flexibility when debugging applications.</p>
<p>In this chapter you will learn how to:</p>
<ul class="simple">
<li><p>interpret error messages;</p></li>
<li><p>interpret the information provided by various system indicators;</p></li>
<li><p>trace the execution of an application step by step; and</p></li>
<li><p>set <em>breakpoints</em> in strategic places to help debugging.</p></li>
</ul>
<p>A forgotten comma, an incorrect axis, a missing parenthesis, a scalar where you expected a vector, can all cause an error and it may sometimes be very difficult for a beginner to understand the reason.
Try to get help from people who have a better understanding of APL:
you will save time <em>and</em> learn a lot from them.</p>
<div class="section" id="when-an-error-occurs">
<span id="first-aid-kit-when-an-error-occurs"></span><h2><span class="section-number">6.1. </span>When an Error Occurs<a class="headerlink" href="#when-an-error-occurs" title="Permalink to this headline">¶</a></h2>
<div class="section" id="our-first-error">
<span id="first-aid-kit-our-first-error"></span><h3><span class="section-number">6.1.1. </span>Our First Error<a class="headerlink" href="#our-first-error" title="Permalink to this headline">¶</a></h3>
<p>Even when you use a function, that is in itself perfectly correct, errors may occur if you call it with arguments that are not consistent with the function’s requirements.
We will use this type of mistake to illustrate what happens when an error occurs.</p>
<p>In the previous chapter we wrote a function to interlace two matrices of the same shape:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="bp">∇</span> <span class="nv">r</span> <span class="kd">←</span> <span class="nv">x</span> <span class="nv">Interlace</span> <span class="nv">y</span><span class="sr">;</span> <span class="nv">size</span><span class="sr">;</span> <span class="nv">even</span>
    <span class="nv">size</span> <span class="kd">←</span> <span class="m">1</span> <span class="m">2</span><span class="o">×⍴</span><span class="nv">x</span>
    <span class="nv">r</span> <span class="kd">←</span> <span class="nv">size</span><span class="o">⍴</span><span class="m">0</span>
    <span class="nv">even</span> <span class="kd">←</span> <span class="m">2</span><span class="o">×⍳</span><span class="p">(</span><span class="o">⍴</span><span class="nv">x</span><span class="p">)</span><span class="sr">[</span><span class="m">2</span><span class="sr">]</span>
    <span class="nv">r</span><span class="sr">[;</span><span class="nv">even</span><span class="sr">]</span> <span class="kd">←</span> <span class="nv">y</span>
    <span class="nv">r</span><span class="sr">[;</span><span class="nv">even</span><span class="o">-</span><span class="m">1</span><span class="sr">]</span> <span class="kd">←</span> <span class="nv">x</span>
<span class="bp">∇</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="m">2</span> <span class="m">2</span><span class="o">⍴</span><span class="m">1</span><span class="p">)</span> <span class="p">(</span><span class="m">2</span> <span class="m">2</span><span class="o">⍴</span><span class="m">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">┌───┬───┐
│1 1│0 0│
│1 1│0 0│
└───┴───┘

</span></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="m">2</span> <span class="m">2</span><span class="o">⍴</span><span class="m">1</span><span class="p">)</span> <span class="nv">Interlace</span> <span class="p">(</span><span class="m">2</span> <span class="m">2</span><span class="o">⍴</span><span class="m">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">1 0 1 0
1 0 1 0

</span></div></div>
</div>
<p>This function works perfectly if you stick to its rules, but what happens if you call it with matrices that <em>don’t</em> have the same shape?</p>
<div class="section" id="your-environment-and-indicators">
<span id="first-aid-kit-your-environment-and-indicators"></span><h4><span class="section-number">6.1.1.1. </span>Your Environment and Indicators<a class="headerlink" href="#your-environment-and-indicators" title="Permalink to this headline">¶</a></h4>
<p>Let us try to interlace our <code class="docutils literal notranslate"><span class="pre">forecast</span></code> matrix, that has 4 rows and 6 columns,</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="nf">⎕RL</span> <span class="kd">←</span> <span class="m">73</span>
<span class="vg">⎕</span><span class="kd">←</span><span class="nv">forecast</span> <span class="kd">←</span> <span class="m">10</span><span class="o">×?</span><span class="m">4</span> <span class="m">6</span><span class="o">⍴</span><span class="m">55</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace"> 90 160 420 500  20  30
110 450 170 370 290 360
340 190 320 120 510 370
150 460 240 520 490 280

</span></div></div>
</div>
<p>with a 3 by 5 matrix, and see what happens:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="nv">forecast</span> <span class="nv">Interlace</span> <span class="m">3</span> <span class="m">5</span><span class="o">⍴⍳</span><span class="m">15</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>LENGTH ERROR
Interlace[4] r[;even]←y
              ∧
</pre></div>
</div>
</div>
</div>
<p>The first thing we see is the error message that is issued.
Then, if you are using RIDE or the Windows interpreter, you will see that, in the lower right corner of the window, some information is highlighted.
<a class="reference internal" href="#fig-win-red-state-indicator"><span class="std std-numref">Fig. 6.1</span></a> shows this highlighting in red, for users of the Windows interpreter, and <a class="reference internal" href="#fig-ride-purple-state-indicator"><span class="std std-numref">Fig. 6.2</span></a> shows this highlighting in purple for users of the RIDE interpreter.</p>
<div class="figure align-default" id="win-red-state-indicator">
<span id="fig-win-red-state-indicator"></span><img alt="_images/Win_Red_State_Indicator.png" src="_images/Win_Red_State_Indicator.png" />
<p class="caption"><span class="caption-number">Fig. 6.1 </span><span class="caption-text">Red highlighting of <code class="docutils literal notranslate"><span class="pre">⎕SI</span></code> upon reaching an error in the Windows interpreter.</span><a class="headerlink" href="#win-red-state-indicator" title="Permalink to this image">¶</a></p>
</div>
<br>
<div class="figure align-default" id="ride-purple-state-indicator">
<span id="fig-ride-purple-state-indicator"></span><img alt="_images/RIDE_Purple_State_Indicator.png" src="_images/RIDE_Purple_State_Indicator.png" />
<p class="caption"><span class="caption-number">Fig. 6.2 </span><span class="caption-text">Purple highlighting of <code class="docutils literal notranslate"><span class="pre">⎕SI</span></code> upon reaching an error in the RIDE interpreter.</span><a class="headerlink" href="#ride-purple-state-indicator" title="Permalink to this image">¶</a></p>
</div>
<p>Furthermore, when using the Windows or RIDE interpreters, an additional trace windows appears, generally at the bottom, as shown respectively by <a class="reference internal" href="#fig-win-trace-window"><span class="std std-numref">Fig. 6.3</span></a> and <a class="reference internal" href="#fig-ride-trace-window"><span class="std std-numref">Fig. 6.4</span></a>.</p>
<div class="figure align-default" id="win-trace-window">
<span id="fig-win-trace-window"></span><img alt="_images/Win_Trace_Window.png" src="_images/Win_Trace_Window.png" />
<p class="caption"><span class="caption-number">Fig. 6.3 </span><span class="caption-text">Trace window in the Windows interpreter.</span><a class="headerlink" href="#win-trace-window" title="Permalink to this image">¶</a></p>
</div>
<hr class="docutils" />
<div class="figure align-default" id="ride-trace-window">
<span id="fig-ride-trace-window"></span><img alt="_images/RIDE_Trace_Window.png" src="_images/RIDE_Trace_Window.png" />
<p class="caption"><span class="caption-number">Fig. 6.4 </span><span class="caption-text">Trace window in the RIDE interpreter.</span><a class="headerlink" href="#ride-trace-window" title="Permalink to this image">¶</a></p>
</div>
<p>APL will preserve the entire execution context (local variables and program status indicators), so that you can resume function execution once the error has been diagnosed and repaired.</p>
<p>Let us now examine the meaning of these things.</p>
</div>
<div class="section" id="the-diagnostic-message">
<span id="first-aid-kit-the-diagnostic-message"></span><h4><span class="section-number">6.1.1.2. </span>The Diagnostic Message<a class="headerlink" href="#the-diagnostic-message" title="Permalink to this headline">¶</a></h4>
<p>The <em>diagnostic message</em> is displayed on three rows of the screen which show:</p>
<ul class="simple">
<li><p>the type of error (explained later in <a class="reference internal" href="#first-aid-kit-execution-errors"><span class="std std-numref">Section 6.2.1</span></a>);</p></li>
<li><p>the function name [and line number] - the statement that can’t be executed; and</p></li>
<li><p>a caret (the character <code class="docutils literal notranslate"><span class="pre">∧</span></code>) which is placed where the statement was interrupted.</p></li>
</ul>
<p>A <em>system function</em> named <code class="docutils literal notranslate"><span class="pre">⎕DM</span></code> returns the latest <em>diagnostic message</em>.
It is a three-item nested vector, with a sub-vector for each of the three lines, as shown below:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="p">)</span><span class="nv">copy</span> <span class="nv">display</span> <span class="nv">DISPLAY</span>
<span class="nv">DISPLAY</span> <span class="nf">⎕DM</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">C:\Program Files\Dyalog\Dyalog APL-64 18.0 Unicode\ws\display.dws saved Tue Dec  1 20:08:12 2020
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">┌→───────────────────────────────────────────────────────────┐
│ ┌→───────────┐ ┌→──────────────────────┐ ┌→──────────────┐ │
│ │LENGTH ERROR│ │Interlace[4] r[;even]←y│ │              ∧│ │
│ └────────────┘ └───────────────────────┘ └───────────────┘ │
└∊───────────────────────────────────────────────────────────┘

</span></div></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">⎕DM</span></code> retains this value until it is replaced by the occurrence of a new error, or until we explicitly clear it.</p>
</div>
<div class="section" id="state-indicator-and-line-counter">
<span id="first-aid-kit-state-indicator-and-line-counter"></span><h4><span class="section-number">6.1.1.3. </span>State Indicator and Line Counter<a class="headerlink" href="#state-indicator-and-line-counter" title="Permalink to this headline">¶</a></h4>
<p>Whenever function execution is interrupted for any reason, Dyalog APL keeps track of the exact point where the interrupt occurred in the <em>state indicator</em> (SI for short).
This value of the state indicator may be obtained using a system command <code class="docutils literal notranslate"><span class="pre">)si</span></code> or a system function <code class="docutils literal notranslate"><span class="pre">⎕SI</span></code>:</p>
<ul class="simple">
<li><p>system command:</p></li>
</ul>
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span>      <span class="p">)</span><span class="nv">si</span>
<span class="c1">#.Interlace[4]*</span>
</pre></div>
</div>
<ul class="simple">
<li><p>system function:</p></li>
</ul>
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span>      ⎕SI
┌─────────┐
│Interlace│
└─────────┘
</pre></div>
</div>
<p>The <em>system function</em> <code class="docutils literal notranslate"><span class="pre">⎕SI</span></code> returns a nested vector containing only the names of the interrupted functions;
in this example only one name appears.</p>
<p>The <em>system command</em> <code class="docutils literal notranslate"><span class="pre">)si</span></code> reports, for each function in the execution stack:</p>
<ul class="simple">
<li><p>a path (here <code class="docutils literal notranslate"><span class="pre">#.</span></code>) which will be explained in <span class="xref myst">a later chapter</span>. Ignore it for now;</p></li>
<li><p>the function name (<code class="docutils literal notranslate"><span class="pre">Interlace</span></code>);</p></li>
<li><p>the number of the statement on which function execution has stopped (<code class="docutils literal notranslate"><span class="pre">[4]</span></code> in this case); and</p></li>
<li><p>an asterisk which means that this function has been interrupted.</p></li>
</ul>
<p>What you see highlighted in the bottom right-hand corner of your session (<code class="docutils literal notranslate"><span class="pre">⎕SI:1</span></code>) is the number of functions referenced in the <em>state indicator</em>.
Normally, this number should be zero and displayed in black; as soon as an error or an interrupt occurs, it is displayed in a different colour as a warning (in red or purple, depending on your software).</p>
<p>APL also keeps, in a <em>line counter</em>, the list of function lines waiting for execution.
In this case there is only one.
It can be obtained from the <em>system function</em> <code class="docutils literal notranslate"><span class="pre">⎕LC</span></code>:</p>
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span>      <span class="nf">⎕LC</span>
<span class="m">4</span>
</pre></div>
</div>
<p>The number above shows that <code class="docutils literal notranslate"><span class="pre">Interlace</span></code> was interrupted on line 4.</p>
<div class="note admonition">
<p class="admonition-title">Note</p>
<p>Due to limitations of the Jupyter interface, many of the things we will be discussing here will work differently when applied directly to a Dyalog APL notebook.</p>
</div>
<p>For example, even though we got an error with the incorrect usage of <code class="docutils literal notranslate"><span class="pre">Interlace</span></code> and we were able to check the diagnostic message with <code class="docutils literal notranslate"><span class="pre">⎕DM</span></code>, the <em>state indicator</em> and the <em>line counter</em> are empty:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="nv">forecast</span> <span class="nv">Interlace</span> <span class="m">3</span> <span class="m">5</span><span class="o">⍴⍳</span><span class="m">15</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>LENGTH ERROR
Interlace[4] r[;even]←y
              ∧
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="nf">⎕SI</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">



</span></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="nf">⎕LC</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">

</span></div></div>
</div>
</div>
<div class="section" id="the-trace-window">
<span id="first-aid-kit-the-trace-window"></span><h4><span class="section-number">6.1.1.4. </span>The Trace Window<a class="headerlink" href="#the-trace-window" title="Permalink to this headline">¶</a></h4>
<p>If you are running Dyalog APL using the default <em>tracer</em> behaviour, when you reach an error inside a function a window should pop up in the bottom of the interpreter, with the function text displayed in another colour and with the statement in error highlighted.</p>
<p>If you are using the Windows interpreter and the trace window did not appear spontaneously, just press <kbd>Ctr</kbd>+<kbd>Enter</kbd>. Then, go to “Options” ⇨ “Configuration” ⇨ “Trace/Edit” and tick the checkbox next to “<em>Show trace stack on error</em>”.</p>
<p>We shall see later how this trace window can be used.
<strong>Do not close it</strong> for the moment.</p>
</div>
<div class="section" id="you-can-see-the-local-variables">
<span id="first-aid-kit-you-can-see-the-local-variables"></span><h4><span class="section-number">6.1.1.5. </span>You Can See the Local Variables<a class="headerlink" href="#you-can-see-the-local-variables" title="Permalink to this headline">¶</a></h4>
<p>Your cursor may not be in this (trace) window: it may remain in the session window, so that you can conveniently enter expressions to diagnose what has happened.
If the trace window <em>does</em> have the focus, you can just switch the focus to the session window and work there, without closing the trace window.</p>
<p>Because the function has been interrupted, all its local variables are visible:</p>
<ul class="simple">
<li><p>you can look at their values; and</p></li>
<li><p>you can even modify them (sometimes this may help).</p></li>
</ul>
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span>      <span class="o">⍴</span><span class="nv">y</span>
<span class="m">3</span> <span class="m">5</span>
      <span class="nv">size</span>
<span class="m">4</span> <span class="m">12</span>
      <span class="o">⍴</span><span class="nv">r</span><span class="sr">[;</span><span class="nv">even</span><span class="sr">]</span>
<span class="m">4</span> <span class="m">6</span>
</pre></div>
</div>
<p>You can see that the size of the future result is correct, but we cannot assign the 3 rows of <code class="docutils literal notranslate"><span class="pre">y</span></code> into the 4 rows of <code class="docutils literal notranslate"><span class="pre">r</span></code>.</p>
</div>
<div class="section" id="what-can-we-do">
<span id="first-aid-kit-what-can-we-do"></span><h4><span class="section-number">6.1.1.6. </span>What Can We Do?<a class="headerlink" href="#what-can-we-do" title="Permalink to this headline">¶</a></h4>
<p>Obviously, in this case there is nothing we can do: the function is correct, we just misused it!
We could, perhaps, forget about it and go on to do something else.
However, if we do so, APL will retain the entire execution stack of functions and local variables in its interrupted state.
If we are not going to continue debugging, we should really clean up by getting the system out of this state.</p>
<p>There are three ways to achieve this.
If you want to try all three of them out, you will need to reproduce the same error after each exit operation:</p>
<ol class="simple">
<li><p>close the trace window. You can use the standard windows methods to close it, or you can click on it (to give it the focus) and then press <kbd>Esc</kbd> to close it;</p></li>
<li><p>type a branch arrow <code class="docutils literal notranslate"><span class="pre">→</span></code> in the session window (as seen in <a class="reference internal" href="User-Defined-Functions.html#user-defined-functions-niladic-arrow"><span class="std std-numref">Section 5.16.4.1</span></a>); or</p></li>
<li><p>execute the <code class="docutils literal notranslate"><span class="pre">)reset</span></code> command in the session window.</p></li>
</ol>
<p>Whichever option you chose, you can verify that:</p>
<ul class="simple">
<li><p>both <code class="docutils literal notranslate"><span class="pre">)si</span></code> and <code class="docutils literal notranslate"><span class="pre">⎕SI</span></code> now give an empty result and</p></li>
<li><p>the highlighted indication <code class="docutils literal notranslate"><span class="pre">⎕SI:1</span></code> is replaced by a neutral <code class="docutils literal notranslate"><span class="pre">⎕SI:0</span></code> in the session status bar.</p></li>
</ul>
<p>However, there is a little difference: with the first two methods, <code class="docutils literal notranslate"><span class="pre">⎕DM</span></code> retains its value (and keeps track of the latest error), while <code class="docutils literal notranslate"><span class="pre">)reset</span></code> also clears <code class="docutils literal notranslate"><span class="pre">⎕DM</span></code>.
In fact, we can generate an error right here in the session:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">1</span> <span class="m">2</span> <span class="o">+</span> <span class="m">3</span> <span class="m">4</span> <span class="m">5</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>LENGTH ERROR: Mismatched left and right argument shapes
      1 2+3 4 5
         ∧
</pre></div>
</div>
</div>
</div>
<p>Notice <code class="docutils literal notranslate"><span class="pre">⎕DM</span></code> contains the information about this error:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="nf">⎕DM</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">┌────────────┬───────────────┬──────────┐
│LENGTH ERROR│      1 2+3 4 5│         ∧│
└────────────┴───────────────┴──────────┘

</span></div></div>
</div>
<p>If we use the <code class="docutils literal notranslate"><span class="pre">)reset</span></code> command, then <code class="docutils literal notranslate"><span class="pre">⎕DM</span></code> becomes empty:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="p">)</span><span class="nv">reset</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="nf">⎕DM</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">

</span></div></div>
</div>
</div>
</div>
<div class="section" id="cascade-of-errors">
<span id="first-aid-kit-cascade-of-errors"></span><h3><span class="section-number">6.1.2. </span>Cascade of Errors<a class="headerlink" href="#cascade-of-errors" title="Permalink to this headline">¶</a></h3>
<p>We shall now see what happens when an error occurs in a sub-function.</p>
<div class="section" id="preparation">
<span id="first-aid-kit-preparation"></span><h4><span class="section-number">6.1.2.1. </span>Preparation<a class="headerlink" href="#preparation" title="Permalink to this headline">¶</a></h4>
<p>A palindrome is a string of characters which remains the same when it is reversed, after any non-alphabetic characters (including spaces) have been removed.
For example, “<em>Cigar: toss it in a can. It is so tragic.</em>” and “<em>Was it a car or a cat I saw?</em>” are palindromes.</p>
<p>We shall try to write a function which detects whether or not a given string of characters is a palindrome.
We are going to use two auxiliary functions:</p>
<ol class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Upper</span></code> removes all non-alphabetic characters and transforms the remaining letters into uppercase characters.</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="sr">]</span><span class="nv">dinput</span>
<span class="nv">Upper</span> <span class="kd">←</span> <span class="kt">{</span>
    <span class="nv">low</span> <span class="kd">←</span> <span class="s1">&#39;abcdefghijklmnopqrstuvwxyz&#39;</span>
    <span class="nv">up</span>  <span class="kd">←</span> <span class="s1">&#39;ABCDEFGHIJKLMNOPQRSTUVWXYZ&#39;</span>
    <span class="nv">all</span> <span class="kd">←</span> <span class="nv">low</span><span class="o">,</span><span class="nv">up</span>
    <span class="nv">text</span> <span class="kd">←</span> <span class="p">(</span><span class="bp">⍵</span><span class="o">∊</span><span class="nv">all</span><span class="p">)</span><span class="na">/</span><span class="bp">⍵</span>
    <span class="p">(</span><span class="nv">up</span><span class="o">,</span><span class="nv">up</span><span class="p">)</span><span class="sr">[</span><span class="nv">all</span><span class="o">⍳</span><span class="nv">text</span><span class="sr">]</span>
<span class="kt">}</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="nv">Upper</span> <span class="s1">&#39;Visit New York&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">VISITNEWYORK

</span></div></div>
</div>
<ol class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Reverse</span></code> reverses the items of a vector.</p></li>
</ol>
<p>This is one possible solution to an exercise from the previous chapter, written by someone who was unaware that APL has a <em>reverse</em> primitive (introduced in <a class="reference internal" href="Working-on-Data-Shape.html"><span class="doc std std-doc">a later chapter</span></a>):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="sr">]</span><span class="nv">dinput</span>
<span class="nv">Reverse</span> <span class="kd">←</span> <span class="kt">{</span>
    <span class="nv">index</span> <span class="kd">←</span> <span class="p">(</span><span class="m">1</span><span class="o">+≢</span><span class="bp">⍵</span><span class="p">)</span><span class="o">-⍳≢</span><span class="bp">⍵</span>
    <span class="bp">⍵</span><span class="sr">[</span><span class="nv">index</span><span class="sr">]</span>
<span class="kt">}</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="nv">Reverse</span> <span class="s1">&#39;Demonstration&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">noitartsnomeD

</span></div></div>
</div>
<p>Finally, <code class="docutils literal notranslate"><span class="pre">Palindrome</span></code> compares the uppercase version of the original vector against its reversed version:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="sr">]</span><span class="nv">dinput</span>
<span class="nv">Palindrome</span> <span class="kd">←</span> <span class="kt">{</span>
    <span class="nv">vector</span> <span class="kd">←</span> <span class="nv">Upper</span> <span class="bp">⍵</span>
    <span class="nv">torvec</span> <span class="kd">←</span> <span class="nv">Reverse</span> <span class="nv">vector</span>
    <span class="nv">torvec</span><span class="o">≡</span><span class="nv">vector</span>
<span class="kt">}</span>
</pre></div>
</div>
</div>
</div>
<p>Let’s try it out:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="nv">Palindrome</span> <span class="s1">&#39;Was it a car or a cat I saw?&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">1

</span></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="nv">Palindrome</span> <span class="s1">&#39;Am I a palindrome?&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">0

</span></div></div>
</div>
<p>Now, in <code class="docutils literal notranslate"><span class="pre">Palindrome</span></code> we decide to replace <code class="docutils literal notranslate"><span class="pre">Reverse</span></code> by <code class="docutils literal notranslate"><span class="pre">ReverBug</span></code>, a deliberately faulty and obtuse version.
Not only does it use an unnecessary loop, but it includes some (intentional) errors:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="bp">∇</span> <span class="nv">rev</span> <span class="kd">←</span> <span class="nv">ReverBug</span> <span class="nv">vec</span><span class="sr">;</span> <span class="nv">from</span><span class="sr">;</span> <span class="nv">to</span>    <span class="c1">⍝ Intentionally faulty.</span>
    <span class="nv">rev</span> <span class="kd">←</span> <span class="p">(</span><span class="o">≢</span><span class="nv">vec</span><span class="p">)</span><span class="o">⍴</span><span class="s1">&#39;?&#39;</span>
    <span class="nv">from</span> <span class="kd">←</span> <span class="m">0</span>
    <span class="bp">:</span><span class="nv">Repeat</span>
        <span class="nv">from</span> <span class="kd">←</span> <span class="nv">frm</span><span class="o">+</span><span class="m">1</span>
        <span class="nv">to</span> <span class="kd">←</span> <span class="p">(</span><span class="o">≢</span><span class="nv">vec</span><span class="p">)</span><span class="o">-</span><span class="nv">from</span>
        <span class="nv">rev</span><span class="sr">[</span><span class="nv">to</span><span class="sr">]</span> <span class="kd">←</span> <span class="nv">vec</span><span class="sr">[</span><span class="nv">from</span><span class="sr">]</span>
    <span class="bp">:</span><span class="nv">Until</span> <span class="nv">from</span><span class="o">=≢</span><span class="nv">vec</span>
<span class="bp">∇</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="let-us-create-more-errors">
<span id="first-aid-kit-let-us-create-more-errors"></span><h4><span class="section-number">6.1.2.2. </span>Let Us Create More Errors<a class="headerlink" href="#let-us-create-more-errors" title="Permalink to this headline">¶</a></h4>
<p>First, let us execute the little function <code class="docutils literal notranslate"><span class="pre">Plus</span></code>, shown below, with incorrect arguments, so as to obtain a <code class="docutils literal notranslate"><span class="pre">LENGTH</span> <span class="pre">ERROR</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="sr">]</span><span class="nv">dinput</span>
<span class="nv">Plus</span> <span class="kd">←</span> <span class="kt">{</span>
    <span class="bp">⍺</span> <span class="o">+</span> <span class="bp">⍵</span>
<span class="kt">}</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">5</span> <span class="m">1</span> <span class="m">7</span> <span class="nv">Plus</span> <span class="m">6</span> <span class="m">2</span> <span class="m">9</span> <span class="m">4</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>LENGTH ERROR: Mismatched left and right argument shapes
Plus[1] ⍺+⍵
         ∧
</pre></div>
</div>
</div>
</div>
<p>As in the previous example, if you are following along with the examples in the Windows interpreter or in RIDE,</p>
<ul class="simple">
<li><p>an error message is issued, and a trace window pops up;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">⎕SI:1</span></code> is now highlighted and displayed in the status bar, and <code class="docutils literal notranslate"><span class="pre">)si</span></code> contains one line; and</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">⎕LC</span></code> contains the value <code class="docutils literal notranslate"><span class="pre">1</span></code> (the function is interrupted on line 1).</p></li>
</ul>
<p>We shall intentionally ignore this error.
<strong>Do not close</strong> the trace window.</p>
<p>As a side comment, notice that if you defined the <code class="docutils literal notranslate"><span class="pre">Plus</span></code> dfn in a single line, for example with <code class="docutils literal notranslate"><span class="pre">Plus</span> <span class="pre">←</span> <span class="pre">{⍺</span> <span class="pre">+</span> <span class="pre">⍵}</span></code>, then the trace window will <em>not</em> appear. In that case, you would have to redefine <code class="docutils literal notranslate"><span class="pre">Plus</span></code> to span multiple lines <em>or</em> rewrite it as a tradfn.</p>
<p>And now, let us execute <code class="docutils literal notranslate"><span class="pre">Palindrome</span></code> (after replacing the usage of <code class="docutils literal notranslate"><span class="pre">Reverse</span></code> with the faulty <code class="docutils literal notranslate"><span class="pre">ReverBug</span></code>).
An error is immediately reported:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="sr">]</span><span class="nv">dinput</span>
<span class="nv">Palindrome</span> <span class="kd">←</span> <span class="kt">{</span>
    <span class="nv">vector</span> <span class="kd">←</span> <span class="nv">Upper</span> <span class="bp">⍵</span>
    <span class="nv">torvec</span> <span class="kd">←</span> <span class="nv">ReverBug</span> <span class="nv">vector</span>
    <span class="nv">torvec</span><span class="o">≡</span><span class="nv">vector</span>
<span class="kt">}</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="nv">Palindrome</span> <span class="s1">&#39;Was it a cat or a car I saw?&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>VALUE ERROR: Undefined name: frm
ReverBug[4] from←frm+1
                 ∧
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>a second error message is issued;</p></li>
<li><p>in the bottom right corner of our session, we now have the information <code class="docutils literal notranslate"><span class="pre">⎕SI:3</span></code>;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">⎕LC</span></code> contains three values: <code class="docutils literal notranslate"><span class="pre">4</span> <span class="pre">2</span> <span class="pre">1</span></code>; and</p></li>
<li><p>we now have three stacked trace windows instead of one:</p>
<ul>
<li><p>one window contains <code class="docutils literal notranslate"><span class="pre">Plus</span></code>, unchanged;</p></li>
<li><p>a second window contains <code class="docutils literal notranslate"><span class="pre">Palindrome</span></code>, in a different colour; and</p></li>
<li><p>on top of that, a third window contains <code class="docutils literal notranslate"><span class="pre">ReverBug</span></code>.</p></li>
</ul>
</li>
</ul>
<p>Although the three trace windows are stacked, you should only be able to view one at a time and, in this case, the <code class="docutils literal notranslate"><span class="pre">ReverBug</span></code> trace window should be the one that is visible right now.</p>
<p>First, let us consult the indicators we know.
<code class="docutils literal notranslate"><span class="pre">⎕DM</span></code> still shows the latest known error, and <code class="docutils literal notranslate"><span class="pre">⎕SI</span></code> gives the names of the three interrupted functions, the last one being displayed first:</p>
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span>      ⎕DM
┌───────────┬──────────────────────┬──────────────────┐
│VALUE ERROR│ReverBug[4] from←frm+1│                 ∧│
└───────────┴──────────────────────┴──────────────────┘
      ⎕SI
┌────────┬──────────┬────┐
│ReverBug│Palindrome│Plus│
└────────┴──────────┴────┘
      )si
#.ReverBug[4]*
#.Palindrome[2]
#.Plus[1]*
</pre></div>
</div>
<p>Notice that</p>
<ul class="simple">
<li><p>the star next to <code class="docutils literal notranslate"><span class="pre">#.ReverBug[4]</span></code> means <code class="docutils literal notranslate"><span class="pre">ReverBug</span></code> is interrupted;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">#.Palindrome[2]</span></code> has no star to its right, it is “pending”; and</p></li>
<li><p>there is also a star next to <code class="docutils literal notranslate"><span class="pre">#.Plus[1]</span></code> because <code class="docutils literal notranslate"><span class="pre">Plus</span></code> was also interrupted.</p></li>
</ul>
<p>As you can see, <code class="docutils literal notranslate"><span class="pre">)si</span></code> is a stack.
Starting from the bottom, it indicates that <code class="docutils literal notranslate"><span class="pre">Plus</span></code> was interrupted on line <code class="docutils literal notranslate"><span class="pre">[1]</span></code>.
Then <code class="docutils literal notranslate"><span class="pre">Palindrome[2]</span></code> has called <code class="docutils literal notranslate"><span class="pre">ReverBug</span></code>, and finally <code class="docutils literal notranslate"><span class="pre">ReverBug</span></code> caused an error in line <code class="docutils literal notranslate"><span class="pre">[4]</span></code>.</p>
<p>Both <code class="docutils literal notranslate"><span class="pre">⎕SI</span></code> and <code class="docutils literal notranslate"><span class="pre">⎕LC</span></code> report the most recently interrupted function first, followed by the others.</p>
<p><code class="docutils literal notranslate"><span class="pre">Palindrome</span></code> has not itself generated an error: it is just waiting for the completion of <code class="docutils literal notranslate"><span class="pre">ReverBug</span></code>.
The <code class="docutils literal notranslate"><span class="pre">Palindrome</span></code> function is said to be <em>pending</em>.
For that reason</p>
<ul class="simple">
<li><p>there is no star to the right of <code class="docutils literal notranslate"><span class="pre">Palindrome</span></code> in <code class="docutils literal notranslate"><span class="pre">)si</span></code>; and</p></li>
<li><p>the background of its trace window is a different colour from the others, if you are using the Windows interpreter.</p></li>
</ul>
</div>
<div class="section" id="switch-to-edit-mode">
<span id="first-aid-kit-switch-to-edit-mode"></span><h4><span class="section-number">6.1.2.3. </span>Switch to Edit Mode<a class="headerlink" href="#switch-to-edit-mode" title="Permalink to this headline">¶</a></h4>
<p>In this case, the error is obvious and we can try to correct it, but the text displayed in the trace window cannot be edited directly;
we must first turn the trace window into an edit window.</p>
<p>To do this, ensure that your cursor is over an empty space in the session window (it must not be over another name) and then:</p>
<ul class="simple">
<li><p>just double-click (on nothing); or</p></li>
<li><p>press <kbd>Shift</kbd>+<kbd>Enter</kbd>.</p></li>
</ul>
<p>Alternatively, you can switch focus to the trace window and place the cursor before the start of any function line and press <kbd>Shift</kbd>+<kbd>Enter</kbd>.</p>
<p>All three methods should make the colour of the trace window change, most likely from grey to white, if you are using the default colour scheme.</p>
<p>You can now modify the incorrect statement (change <code class="docutils literal notranslate"><span class="pre">frm</span></code> into <code class="docutils literal notranslate"><span class="pre">from</span></code>), and press <kbd>Esc</kbd> to fix the modification.
The system switches back to the original colour, showing the newly corrected statement.</p>
</div>
<div class="section" id="continue-execution">
<span id="first-aid-kit-continue-execution"></span><h4><span class="section-number">6.1.2.4. </span>Continue Execution<a class="headerlink" href="#continue-execution" title="Permalink to this headline">¶</a></h4>
<p>After making the correction, you can choose to either:</p>
<ul class="simple">
<li><p>resume the function from the interruption point; or</p></li>
<li><p>continue by tracing its execution, statement by statement, to see what happens.</p></li>
</ul>
<p>Let us choose the first option.
This can be achieved using one of the following methods:</p>
<ul class="simple">
<li><p>in the session window, execute <code class="docutils literal notranslate"><span class="pre">→⎕LC</span></code>, which is equivalent to <code class="docutils literal notranslate"><span class="pre">→4</span> <span class="pre">2</span> <span class="pre">1</span></code> in this case.
The branch arrow ignores all but the first number, so the program resumes execution from line number 4 in the function at the top of the stack (<code class="docutils literal notranslate"><span class="pre">ReverBug</span></code> in this case); or</p></li>
<li><p>in the trace window toolbar, press the <em>continue execution of this thread</em> button. <a class="reference internal" href="#fig-win-continue-execution-button"><span class="std std-numref">Fig. 6.5</span></a> and <a class="reference internal" href="#fig-ride-continue-execution-button"><span class="std std-numref">Fig. 6.6</span></a> show what this button looks like for users of the Windows interpreter and of RIDE, respectively.</p></li>
</ul>
<div class="figure align-default" id="win-continue-execution-button">
<span id="fig-win-continue-execution-button"></span><img alt="_images/Win_Continue_Execution_Button.png" src="_images/Win_Continue_Execution_Button.png" />
<p class="caption"><span class="caption-number">Fig. 6.5 </span><span class="caption-text"><em>Continue execution of this thread</em> button in the Windows interpreter trace window.</span><a class="headerlink" href="#win-continue-execution-button" title="Permalink to this image">¶</a></p>
</div>
<br>
<div class="figure align-default" id="ride-continue-execution-button">
<span id="fig-ride-continue-execution-button"></span><img alt="_images/RIDE_Continue_Execution_Button.png" src="_images/RIDE_Continue_Execution_Button.png" />
<p class="caption"><span class="caption-number">Fig. 6.6 </span><span class="caption-text"><em>Continue execution of this thread</em> button in the RIDE trace window.</span><a class="headerlink" href="#ride-continue-execution-button" title="Permalink to this image">¶</a></p>
</div>
<p>The function resumes its execution but, unfortunately, a second error immediately appears:</p>
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="nv">INDEX</span> <span class="nv">ERROR</span>
<span class="nv">ReverBug</span><span class="sr">[</span><span class="m">6</span><span class="sr">]</span> <span class="nv">rev</span><span class="sr">[</span><span class="nv">to</span><span class="sr">]</span><span class="kd">←</span><span class="nv">vec</span><span class="sr">[</span><span class="nv">from</span><span class="sr">]</span>
               <span class="o">∧</span>
</pre></div>
</div>
<p>The indicators are nearly the same; they now tell us that the function is no longer interrupted on line 4, but on line 6.</p>
<p>To diagnose the problem, we can look at the values of our local variables.
We can either double-click on their names (which will open each one in a new window), or just type their names in the session; let us use the latter approach:</p>
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span>      <span class="nv">rev</span>
<span class="nv">ASITACARORACATISAW</span><span class="o">?</span>
</pre></div>
</div>
<p>Something is wrong: the first letter (W) should be in the last position where the “?” is.</p>
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span>      <span class="o">≢</span><span class="nv">vec</span>
<span class="m">19</span>
</pre></div>
</div>
<p>This confirms we had an argument with 19 letters.</p>
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span>      <span class="nv">from</span>
<span class="m">19</span>
</pre></div>
</div>
<p>And we are trying to move the 19th letter…</p>
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span>      <span class="nv">to</span>
<span class="m">0</span>
</pre></div>
</div>
<p>to the last index, but it being equal to zero causes an error.</p>
<p>Our statement in line [5] calculated the wrong index!
It would be insufficient to correct the statement and continue with the current execution, because the variables are already wrong.
A better solution would be to correct line [5], exit from <code class="docutils literal notranslate"><span class="pre">ReverBug</span></code> and restart where <code class="docutils literal notranslate"><span class="pre">Palindrome</span></code> called it.</p>
<p>Let us modify the 5th statement of <code class="docutils literal notranslate"><span class="pre">ReverBug</span></code> to be <code class="docutils literal notranslate"><span class="pre">to</span> <span class="pre">←</span> <span class="pre">(1+≢vec)-from</span></code>.
Now, if we want to return to the calling function, we cannot execute <code class="docutils literal notranslate"><span class="pre">)reset</span></code> nor <code class="docutils literal notranslate"><span class="pre">→</span></code>, because that would cause a complete exit both from <code class="docutils literal notranslate"><span class="pre">ReverBug</span></code> and from <code class="docutils literal notranslate"><span class="pre">Palindrome</span></code>.
The only way back is to ensure that the <code class="docutils literal notranslate"><span class="pre">ReverBug</span></code> trace window has the focus and then press <kbd>Esc</kbd> to get out of <code class="docutils literal notranslate"><span class="pre">ReverBug</span></code> and return to <code class="docutils literal notranslate"><span class="pre">Palindrome</span></code>.</p>
<p>We are now back in the callling environment:</p>
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span>      <span class="p">)</span><span class="nv">si</span>
<span class="c1">#.Palindrome[2]*</span>
<span class="c1">#.Plus[1]*</span>
</pre></div>
</div>
<p>Notice that <code class="docutils literal notranslate"><span class="pre">ReverBug</span></code> is no longer present in the state indicator and that the asterisk is now displayed alongside <code class="docutils literal notranslate"><span class="pre">Palindrome</span></code>, because <code class="docutils literal notranslate"><span class="pre">Palindrome</span></code> is now the interrupted function.
Then, resume the execution of <code class="docutils literal notranslate"><span class="pre">Palindrome</span></code> exactly as we restarted <code class="docutils literal notranslate"><span class="pre">ReverBug</span></code>:</p>
<ul class="simple">
<li><p>execute <code class="docutils literal notranslate"><span class="pre">→⎕LC</span></code> in the session; or</p></li>
<li><p>press the <em>continue execution of this thread</em> button in the trace window toolbar.</p></li>
</ul>
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span>      <span class="kd">→</span><span class="nf">⎕LC</span>
<span class="m">1</span>
</pre></div>
</div>
<p>If we run <code class="docutils literal notranslate"><span class="pre">→⎕LC</span></code> (or press the <em>continue execution</em> button, for that matter) the result we get back is 1, because the sentence <code class="docutils literal notranslate"><span class="pre">'Was</span> <span class="pre">it</span> <span class="pre">a</span> <span class="pre">car</span> <span class="pre">or</span> <span class="pre">a</span> <span class="pre">cat</span> <span class="pre">I</span> <span class="pre">saw?'</span></code> is a palindrome.
Despite <code class="docutils literal notranslate"><span class="pre">Palindrome</span></code> having returned its result, we still have an old interrupted function:</p>
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span>      )si
#.Plus[1]*

      ⎕DM
┌───────────┬─────────────────────────────┬────────────────┐
│INDEX ERROR│ReverBug[6] rev[to]←vec[from]│               ∧│
└───────────┴─────────────────────────────┴────────────────┘
</pre></div>
</div>
<p>As you can see, <code class="docutils literal notranslate"><span class="pre">⎕DM</span></code> does not report the stack of errors, just the last one that occurred.</p>
<p>The best thing we can do now to restore a clean environment is to execute:</p>
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span>      <span class="p">)</span><span class="nv">reset</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="information-and-actions">
<span id="first-aid-kit-information-and-actions"></span><h3><span class="section-number">6.1.3. </span>Information and Actions<a class="headerlink" href="#information-and-actions" title="Permalink to this headline">¶</a></h3>
<div class="section" id="indicators">
<span id="first-aid-kit-indicators"></span><h4><span class="section-number">6.1.3.1. </span>Indicators<a class="headerlink" href="#indicators" title="Permalink to this headline">¶</a></h4>
<p>When an error occurs, a number of program status indicators are available for the developer’s use.
Not all of them will be described here; we shall just explore the most useful ones.</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-align:left head"><p>Code</p></th>
<th class="text-align:left head"><p>Name</p></th>
<th class="text-align:left head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">)si</span></code></p></td>
<td class="text-align:left"><p><em>State indicator</em></p></td>
<td class="text-align:left"><p>List of suspended functions with line numbers and state.</p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">⎕SI</span></code></p></td>
<td class="text-align:left"><p><em>State indicator</em></p></td>
<td class="text-align:left"><p>Nested vector of suspended or pending functions names.</p></td>
</tr>
<tr class="row-even"><td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">⎕DM</span></code></p></td>
<td class="text-align:left"><p><em>Diagnostic message</em></p></td>
<td class="text-align:left"><p>3-item nested vector which reports the message associated with the latest error.</p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">⎕LC</span></code></p></td>
<td class="text-align:left"><p><em>Line counter</em></p></td>
<td class="text-align:left"><p>Numeric vector containing the line numbers of functions that are pending or suspended and waiting for execution, the last one being displayed first – the same order as <code class="docutils literal notranslate"><span class="pre">⎕SI</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">⎕EN</span></code></p></td>
<td class="text-align:left"><p><em>Event number</em></p></td>
<td class="text-align:left"><p>Every type of error or exception is identified by a number. The number of the latest error is reported by <code class="docutils literal notranslate"><span class="pre">⎕EN</span></code>.</p></td>
</tr>
</tbody>
</table>
<p>Here are some very common <em>event numbers</em>; they will be explained in the next section:</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-align:left head"><p><code class="docutils literal notranslate"><span class="pre">⎕EN</span></code></p></th>
<th class="text-align:left head"><p>Message</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-align:left"><p>1</p></td>
<td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">WS</span> <span class="pre">FULL</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p>2</p></td>
<td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">SYNTAX</span> <span class="pre">ERROR</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-align:left"><p>3</p></td>
<td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">INDEX</span> <span class="pre">ERROR</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p>4</p></td>
<td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">RANK</span> <span class="pre">ERROR</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-align:left"><p>5</p></td>
<td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">LENGTH</span> <span class="pre">ERROR</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p>6</p></td>
<td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">VALUE</span> <span class="pre">ERROR</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-align:left"><p>11</p></td>
<td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">DOMAIN</span> <span class="pre">ERROR</span></code></p></td>
</tr>
</tbody>
</table>
<p>A full list of <em>event numbers</em> is given in <a class="reference internal" href="Appendices.html#appendices-event-numbers"><span class="std std-numref">Section 9.4</span></a>.</p>
</div>
<div class="section" id="some-possible-actions">
<span id="first-aid-kit-some-possible-actions"></span><h4><span class="section-number">6.1.3.2. </span>Some Possible Actions<a class="headerlink" href="#some-possible-actions" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">→⎕LC</span></code> continues the interrupted function from the very statement on which it was interrupted (same as pressing the <em>continue execution of this thread</em> button);</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">→0</span></code> quits the interrupted function and returns to its calling environment, which may be the session, or a calling function (same as putting focus on the trace window of the interrupted function and pressing <kbd>Esc</kbd>). In the latter case, execution will be resumed in the calling function;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">→</span></code> quits the interrupted function and all its calling functions, and returns to the session. If other functions are suspended, they remain in the <em>state indicator</em>; and</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">)reset</span></code> quits <strong>all</strong> suspended functions, resetting the <em>state indicator</em>. <code class="docutils literal notranslate"><span class="pre">⎕SI</span></code>, <code class="docutils literal notranslate"><span class="pre">⎕DM</span></code>, and <code class="docutils literal notranslate"><span class="pre">⎕LC</span></code> are reset to empty vectors and <code class="docutils literal notranslate"><span class="pre">⎕EN</span></code> is set to zero.</p></li>
</ul>
</div>
</div>
<div class="section" id="why-should-you-reset-your-state-indicator">
<span id="first-aid-kit-why-should-you-reset-your-state-indicator"></span><h3><span class="section-number">6.1.4. </span>Why Should You Reset Your State Indicator?<a class="headerlink" href="#why-should-you-reset-your-state-indicator" title="Permalink to this headline">¶</a></h3>
<p>Let us pretend for a second that you were working in the session, trying to figure out how to solve the exercises from <a class="reference internal" href="User-Defined-Functions.html#user-defined-functions-exercises-on-dfns"><span class="std std-numref">Section 5.4</span></a>.
In particular, you were trying to solve the exercise where you have to implement a function that produces a series of integers starting on one argument and going up to the other one.</p>
<p>First things first, you create the variables that tell you where the sequence should start and end:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="nv">from</span> <span class="kd">←</span> <span class="m">17</span>
<span class="nv">to</span> <span class="kd">←</span> <span class="m">29</span>
</pre></div>
</div>
</div>
</div>
<p>Then you start trying to figure out how many numbers you should generate, and how to actually generate them:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="nv">to</span><span class="o">-</span><span class="nv">from</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">12

</span></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="o">⍳</span><span class="nv">to</span><span class="o">-</span><span class="nv">from</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">1 2 3 4 5 6 7 8 9 10 11 12

</span></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="nv">from</span><span class="o">+⍳</span><span class="nv">to</span><span class="o">-</span><span class="nv">from</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">18 19 20 21 22 23 24 25 26 27 28 29

</span></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">¯1</span><span class="o">+</span><span class="nv">from</span><span class="o">+⍳</span><span class="nv">to</span><span class="o">-</span><span class="nv">from</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">17 18 19 20 21 22 23 24 25 26 27 28

</span></div></div>
</div>
<p>Eventually you reach this expression and feel good about it, so you decide to save it as a short dfn:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="nv">To</span> <span class="kd">←</span> <span class="kt">{</span><span class="m">¯1</span><span class="o">+</span><span class="bp">⍺</span><span class="o">+⍳</span><span class="bp">⍵</span><span class="o">-</span><span class="bp">⍺</span><span class="kt">}</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">17</span> <span class="nv">To</span> <span class="m">29</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">17 18 19 20 21 22 23 24 25 26 27 28

</span></div></div>
</div>
<p>The exercise is solved and you proceed to programming something else, so you decide to implement a <code class="docutils literal notranslate"><span class="pre">Reverse</span></code> function, but alas you make a flawed implementation, like the one in <code class="docutils literal notranslate"><span class="pre">ReverBug</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="bp">∇</span> <span class="nv">rev</span> <span class="kd">←</span> <span class="nv">ReverBug</span> <span class="nv">vec</span><span class="sr">;</span> <span class="nv">from</span><span class="sr">;</span> <span class="nv">to</span>    <span class="c1">⍝ Still intentionally faulty.</span>
    <span class="nv">rev</span> <span class="kd">←</span> <span class="p">(</span><span class="o">≢</span><span class="nv">vec</span><span class="p">)</span><span class="o">⍴</span><span class="s1">&#39;?&#39;</span>
    <span class="nv">from</span> <span class="kd">←</span> <span class="m">0</span>
    <span class="bp">:</span><span class="nv">Repeat</span>
        <span class="nv">from</span> <span class="kd">←</span> <span class="nv">from</span><span class="o">+</span><span class="m">1</span>
        <span class="nv">to</span> <span class="kd">←</span> <span class="p">(</span><span class="o">≢</span><span class="nv">vec</span><span class="p">)</span><span class="o">-</span><span class="nv">from</span>
        <span class="nv">rev</span><span class="sr">[</span><span class="nv">to</span><span class="sr">]</span> <span class="kd">←</span> <span class="nv">vec</span><span class="sr">[</span><span class="nv">from</span><span class="sr">]</span>
    <span class="bp">:</span><span class="nv">Until</span> <span class="nv">from</span><span class="o">=≢</span><span class="nv">vec</span>
<span class="bp">∇</span>
</pre></div>
</div>
</div>
</div>
<p>When you call it, you realise you made a mistake, because the function throws an error:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="nv">ReverBug</span> <span class="m">17</span> <span class="nv">To</span> <span class="m">29</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INDEX ERROR
ReverBug[6] rev[to]←vec[from]
               ∧
</pre></div>
</div>
</div>
</div>
<p>You look around for a bit and find your mistake, as the fifth statement should have read <code class="docutils literal notranslate"><span class="pre">to</span> <span class="pre">←</span> <span class="pre">(1+≢vec)-from</span></code> instead of the current <code class="docutils literal notranslate"><span class="pre">to</span> <span class="pre">←</span> <span class="pre">(≢vec)-from</span></code>.
You correct your mistake and fix the function, but then don’t reset the stack because you see no point in it.
Just a little while latter, you reuse your <code class="docutils literal notranslate"><span class="pre">To</span></code> function and notice that it looks weird:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">17</span> <span class="nv">To</span> <span class="m">29</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">17 18 19 20 21 22 23 24 25 26 27 28

</span></div></div>
</div>
<p>The sequence of numbers produced should go up to, and including, 29, and it currently stops at 28.
So, you decide to go back and play a bit more with the expression you had before defining the <code class="docutils literal notranslate"><span class="pre">To</span></code> function:</p>
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span>      <span class="m">¯1</span><span class="o">+</span><span class="nv">from</span><span class="o">+⍳</span><span class="nv">to</span><span class="o">-</span><span class="nv">from</span>
<span class="nv">DOMAIN</span> <span class="nv">ERROR</span>
      <span class="m">¯1</span><span class="o">+</span><span class="nv">from</span><span class="o">+⍳</span><span class="nv">to</span><span class="o">-</span><span class="nv">from</span>
              <span class="o">∧</span>
      <span class="nv">to</span> <span class="nv">from</span>
<span class="m">0</span> <span class="m">12</span>
</pre></div>
</div>
<p>The variables <code class="docutils literal notranslate"><span class="pre">to</span></code> and <code class="docutils literal notranslate"><span class="pre">from</span></code> you were playing with are not visible in your session because they are being shadowed (“hidden” or “covered”) by the local variables inside <code class="docutils literal notranslate"><span class="pre">ReverBug</span></code>.</p>
<p>As soon as we reset the <em>state indicator</em>, the local variables of <code class="docutils literal notranslate"><span class="pre">ReverBug</span></code> disappear, and your little expression can be used again:</p>
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span>      <span class="p">)</span><span class="nv">reset</span>
      <span class="m">¯1</span><span class="o">+</span><span class="nv">from</span><span class="o">+⍳</span><span class="nv">to</span><span class="o">-</span><span class="nv">from</span>
<span class="m">17</span> <span class="m">18</span> <span class="m">19</span> <span class="m">20</span> <span class="m">21</span> <span class="m">22</span> <span class="m">23</span> <span class="m">24</span> <span class="m">25</span> <span class="m">26</span> <span class="m">27</span> <span class="m">28</span>
</pre></div>
</div>
<p>You then proceed to understanding that you are generating one too few numbers, and manage to come up with the correct expression for your <code class="docutils literal notranslate"><span class="pre">To</span></code> function:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">¯1</span><span class="o">+</span><span class="nv">from</span><span class="o">+⍳</span><span class="m">1</span><span class="o">+</span><span class="nv">to</span><span class="o">-</span><span class="nv">from</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">17 18 19 20 21 22 23 24 25 26 27 28 29

</span></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="nv">To</span> <span class="kd">←</span> <span class="kt">{</span><span class="m">¯1</span><span class="o">+</span><span class="bp">⍺</span><span class="o">+⍳</span><span class="m">1</span><span class="o">+</span><span class="bp">⍵</span><span class="o">-</span><span class="bp">⍺</span><span class="kt">}</span>
</pre></div>
</div>
</div>
</div>
<p>So, having a “dirty” state indicator can easily lead to a lot of confusion.</p>
<p>You should also be aware that because APL preserves the full context in which a function stopped or crashed, all the local variables are retained too; this may require a lot of memory space!</p>
<!--begin tip-->
<p><em><strong>Recommendation</strong></em>:</p>
<blockquote>
<div><p>When a function crashes, always try to clear the stack if you can:</p>
<ul class="simple">
<li><p>try to correct the problem and resume function execution; or</p></li>
<li><p>if that is impossible, abort it and reset the execution context by executing <code class="docutils literal notranslate"><span class="pre">)reset</span></code>.</p></li>
</ul>
<p>If you can’t fix it <em>right now</em>, Dyalog will allow you to <code class="docutils literal notranslate"><span class="pre">)save</span></code> the workspace and come back to it later.</p>
</div></blockquote>
<!--end--></div>
</div>
<div class="section" id="most-frequent-error-messages">
<span id="first-aid-kit-most-frequent-error-messages"></span><h2><span class="section-number">6.2. </span>Most Frequent Error Messages<a class="headerlink" href="#most-frequent-error-messages" title="Permalink to this headline">¶</a></h2>
<div class="section" id="execution-errors">
<span id="first-aid-kit-execution-errors"></span><h3><span class="section-number">6.2.1. </span>Execution Errors<a class="headerlink" href="#execution-errors" title="Permalink to this headline">¶</a></h3>
<p>For each common error, we shall give you the most probable reason for the error, some rare cases which may be difficult to debug, and suggest some immediate experiments that you can carry out to help diagnose the problem.</p>
<p>Among the six most common errors, four are really easy to diagnose, but the last two are a bit more complex.</p>
<div class="section" id="value-error-en-6">
<span id="first-aid-kit-value-error-en-6"></span><h4><span class="section-number">6.2.1.1. </span><code class="docutils literal notranslate"><span class="pre">VALUE</span> <span class="pre">ERROR</span></code> (<code class="docutils literal notranslate"><span class="pre">⎕EN</span> <span class="pre">=</span> <span class="pre">6</span></code>)<a class="headerlink" href="#value-error-en-6" title="Permalink to this headline">¶</a></h4>
<p>You used a name which does not have a value; it does not represent a variable, a function, or an operator.</p>
<p>Here are some possible reasons:</p>
<ul class="simple">
<li><p>perhaps you misspelled the variable (or function) name, entered the incorrect mixture of upper and lower case characters, or confused the letter “O” with the digit “0”, etc;</p></li>
<li><p>you tried to use the result of a function which actually produces no result (see <a class="reference internal" href="User-Defined-Functions.html#user-defined-functions-why-should-a-function-return-a-result"><span class="std std-numref">Section 5.10.2</span></a>);</p></li>
<li><p>you tried to reference one of the local variables of a function before it was assigned a value – remember that all variables referenced in the header of a tradfn are local, and so are all the variables defined inside dfns; and</p></li>
<li><p>an erroneous tradfn header, as explained below.</p></li>
</ul>
<p>Imagine you intended to create a function named <code class="docutils literal notranslate"><span class="pre">Travel</span></code>, with two arguments named <code class="docutils literal notranslate"><span class="pre">west</span></code> and <code class="docutils literal notranslate"><span class="pre">east</span></code>.
When you entered the header, you forgot the space between <code class="docutils literal notranslate"><span class="pre">Travel</span></code> and <code class="docutils literal notranslate"><span class="pre">east</span></code>, so that the function now looks like this:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="bp">∇</span> <span class="nv">z</span> <span class="kd">←</span> <span class="nv">west</span> <span class="nv">Traveleast</span>
    <span class="nv">z</span> <span class="kd">←</span> <span class="nv">west</span><span class="o">-</span><span class="nv">east</span>
<span class="bp">∇</span>
</pre></div>
</div>
</div>
</div>
<p>Instead, you just defined a monadic function named <code class="docutils literal notranslate"><span class="pre">west</span></code>, with a right argument named <code class="docutils literal notranslate"><span class="pre">Traveleast</span></code>.
When you try to use <code class="docutils literal notranslate"><span class="pre">Travel</span></code>, it does not exist, and you get an error:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">0</span> <span class="nv">Travel</span> <span class="m">1</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>VALUE ERROR: Undefined name: Travel
      0 Travel 1
        ∧
</pre></div>
</div>
</div>
</div>
<p>If you suspect that this has occurred, and you can remember the syntax of the function, check to see if you have a different function whose name is the same as your intended left argument.
For example, below we can find a function named “<code class="docutils literal notranslate"><span class="pre">west</span></code>” instead of “<code class="docutils literal notranslate"><span class="pre">Travel</span></code>”:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="p">)</span><span class="nv">fns</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">DISPLAY Interlace       Palindrome      Plus    ReverBug        Reverse To      Upper   west    
</span></div></div>
</div>
<p>If you do not spot it immediately, and if you are using the Windows interpreter, you can use the <em>search</em> tool (generally available in the toolbar as the magnifying lens or under “Tools” ⇨ “Search…”).
Once the window opens, you can type the name that you want to search for and then click “Find Now”.
You should then discover what the name of the misspelled function really is, as shown in <a class="reference internal" href="#fig-win-search-travel"><span class="std std-numref">Fig. 6.7</span></a>.</p>
<div class="figure align-default" id="win-search-travel">
<span id="fig-win-search-travel"></span><img alt="_images/WIN_Search_Travel.png" src="_images/WIN_Search_Travel.png" />
<p class="caption"><span class="caption-number">Fig. 6.7 </span><span class="caption-text">The “Search” window of the Windows interpreter.</span><a class="headerlink" href="#win-search-travel" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="length-error-en-5">
<span id="first-aid-kit-length-error-en-5"></span><h4><span class="section-number">6.2.1.2. </span><code class="docutils literal notranslate"><span class="pre">LENGTH</span> <span class="pre">ERROR</span></code> (<code class="docutils literal notranslate"><span class="pre">⎕EN</span> <span class="pre">=</span> <span class="pre">5</span></code>)<a class="headerlink" href="#length-error-en-5" title="Permalink to this headline">¶</a></h4>
<p>A <code class="docutils literal notranslate"><span class="pre">LENGTH</span> <span class="pre">ERROR</span></code> usually involves two arguments with inconsistent shapes for a given operation.
For example:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">4</span> <span class="m">6</span> <span class="m">8</span> <span class="o">+</span> <span class="m">3</span> <span class="m">7</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>LENGTH ERROR: Mismatched left and right argument shapes
      4 6 8+3 7
           ∧
</pre></div>
</div>
</div>
</div>
<!--begin tip-->
<p><em><strong>Suggestion</strong></em>:</p>
<blockquote>
<div><p>If an operation like <code class="docutils literal notranslate"><span class="pre">X+Y</span></code> causes a <code class="docutils literal notranslate"><span class="pre">LENGTH</span> <span class="pre">ERROR</span></code>, look at the shapes of both arguments <code class="docutils literal notranslate"><span class="pre">X</span></code> and <code class="docutils literal notranslate"><span class="pre">Y</span></code>, and see if they are compatible with one another.</p>
</div></blockquote>
<!--end-->
<p>Also remember that:</p>
<ul class="simple">
<li><p>a matrix with only one row looks like (but is not) a vector and a matrix/vector with only one element looks like (but is not) a scalar (see <a class="reference internal" href="Data-and-Variables.html#data-and-variables-beware"><span class="std std-numref">Section 3.3.4</span></a>); and</p></li>
<li><p>an incorrectly specified axis may also cause such an error.</p></li>
</ul>
<p>To exemplify a <code class="docutils literal notranslate"><span class="pre">LENGTH</span> <span class="pre">ERROR</span></code> with an incorrect axis specification, let us define</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="vg">⎕</span><span class="kd">←</span> <span class="nv">MatA</span> <span class="kd">←</span> <span class="m">3</span> <span class="m">4</span><span class="o">⍴⍳</span><span class="m">12</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">1  2  3  4
5  6  7  8
9 10 11 12

</span></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="vg">⎕</span><span class="kd">←</span> <span class="nv">MatB</span> <span class="kd">←</span> <span class="m">5</span> <span class="m">4</span><span class="o">⍴⍳</span><span class="m">20</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace"> 1  2  3  4
 5  6  7  8
 9 10 11 12
13 14 15 16
17 18 19 20

</span></div></div>
</div>
<p>Both <code class="docutils literal notranslate"><span class="pre">MatA,MatB</span></code> and <code class="docutils literal notranslate"><span class="pre">MatA,[2]MatB</span></code> cause a <code class="docutils literal notranslate"><span class="pre">LENGTH</span> <span class="pre">ERROR</span></code> but both <code class="docutils literal notranslate"><span class="pre">MatA⍪MatB</span></code> and <code class="docutils literal notranslate"><span class="pre">MatA,[1]MatB</span></code> will work:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="nv">MatA</span><span class="o">,</span><span class="nv">MatB</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>LENGTH ERROR
      MatA,MatB
          ∧
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="nv">MatA</span><span class="o">,</span><span class="sr">[</span><span class="m">2</span><span class="sr">]</span><span class="nv">MatB</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>LENGTH ERROR
      MatA,[2]MatB
          ∧
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="nv">MatA</span><span class="o">⍪</span><span class="nv">MatB</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace"> 1  2  3  4
 5  6  7  8
 9 10 11 12
 1  2  3  4
 5  6  7  8
 9 10 11 12
13 14 15 16
17 18 19 20

</span></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="nv">MatA</span><span class="o">,</span><span class="sr">[</span><span class="m">1</span><span class="sr">]</span><span class="nv">MatB</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace"> 1  2  3  4
 5  6  7  8
 9 10 11 12
 1  2  3  4
 5  6  7  8
 9 10 11 12
13 14 15 16
17 18 19 20

</span></div></div>
</div>
</div>
<div class="section" id="rank-error-en-4">
<span id="first-aid-kit-rank-error-en4"></span><h4><span class="section-number">6.2.1.3. </span><code class="docutils literal notranslate"><span class="pre">RANK</span> <span class="pre">ERROR</span></code> (<code class="docutils literal notranslate"><span class="pre">⎕EN=4</span></code>)<a class="headerlink" href="#rank-error-en-4" title="Permalink to this headline">¶</a></h4>
<p>A <code class="docutils literal notranslate"><span class="pre">RANK</span> <span class="pre">ERROR</span></code> means that you tried to do something which is not consistent with the <em>rank</em> of an array.
This may involve one or more variables.
Let us recall our <code class="docutils literal notranslate"><span class="pre">forecast</span></code> matrix and use it to show some common examples of this type of error:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="nf">⎕RL</span> <span class="kd">←</span> <span class="m">73</span>
<span class="vg">⎕</span><span class="kd">←</span><span class="nv">forecast</span> <span class="kd">←</span> <span class="m">10</span><span class="o">×?</span><span class="m">4</span> <span class="m">6</span><span class="o">⍴</span><span class="m">55</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace"> 90 160 420 500  20  30
110 450 170 370 290 360
340 190 320 120 510 370
150 460 240 520 490 280

</span></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="nv">forecast</span><span class="sr">[</span><span class="m">3</span> <span class="m">5</span><span class="sr">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INDEX ERROR
      forecast[3 5]
              ∧
</pre></div>
</div>
</div>
</div>
<p>The indexing above is incorrect because <code class="docutils literal notranslate"><span class="pre">forecast</span></code> is a matrix, not a vector.
A semicolon is needed somewhere: <code class="docutils literal notranslate"><span class="pre">[;3</span> <span class="pre">5]</span></code>, <code class="docutils literal notranslate"><span class="pre">[3;5]</span></code>, or <code class="docutils literal notranslate"><span class="pre">[3</span> <span class="pre">5;]</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="nv">forecast</span> <span class="o">+</span> <span class="o">⍳</span><span class="m">6</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>RANK ERROR: Mismatched left and right argument ranks
      forecast+⍳6
              ∧
</pre></div>
</div>
</div>
</div>
<p>The above cannot work, even if <code class="docutils literal notranslate"><span class="pre">forecast</span></code> had only one row and looked very much like a vector.</p>
<p>A <code class="docutils literal notranslate"><span class="pre">RANK</span> <span class="pre">ERROR</span></code> is also issued when an <em>axis</em> is not correct.
For example:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="nv">MatA</span><span class="o">,</span><span class="sr">[</span><span class="m">3</span><span class="sr">]</span><span class="nv">MatB</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>RANK ERROR: Invalid axis
      MatA,[3]MatB
          ∧
</pre></div>
</div>
</div>
</div>
<p>This cannot work because <code class="docutils literal notranslate"><span class="pre">MatA</span></code> does not have 3 dimensions.
Similarly,</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">1</span> <span class="m">2</span> <span class="m">3</span> <span class="m">4</span><span class="o">,</span><span class="sr">[</span><span class="m">2</span><span class="sr">]</span><span class="m">5</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>RANK ERROR: Invalid axis
      1 2 3 4,[2]5
             ∧
</pre></div>
</div>
</div>
</div>
<p>cannot work because a vector only has one dimension.</p>
<p>Sometimes incorrect syntax can also lead to a <code class="docutils literal notranslate"><span class="pre">RANK</span> <span class="pre">ERROR</span></code>.
For example, to concatenate the two matrices shown above, the correct syntax is <code class="docutils literal notranslate"><span class="pre">MatA,[1]MatB</span></code>, but you could have typed that as</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="nv">MatA</span><span class="sr">[</span><span class="m">1</span><span class="sr">]</span><span class="o">,</span><span class="nv">MatB</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>RANK ERROR
      MatA[1],MatB
          ∧
</pre></div>
</div>
</div>
</div>
<p>Notice the misplaced comma, which leads APL to try and calculate <code class="docutils literal notranslate"><span class="pre">MatA[1]</span></code>, which fails because <code class="docutils literal notranslate"><span class="pre">MatA</span></code> is a matrix and not a vector.</p>
<!--begin tip-->
<p><em><strong>Suggestion</strong></em>:</p>
<blockquote>
<div><p>If a statement causes a <code class="docutils literal notranslate"><span class="pre">RANK</span> <span class="pre">ERROR</span></code>, look at the shapes of all the arrays involved in the expression.</p>
</div></blockquote>
<!--end--></div>
<div class="section" id="index-error-en-3">
<span id="first-aid-kit-index-error-en3"></span><h4><span class="section-number">6.2.1.4. </span><code class="docutils literal notranslate"><span class="pre">INDEX</span> <span class="pre">ERROR</span></code> (<code class="docutils literal notranslate"><span class="pre">⎕EN=3</span></code>)<a class="headerlink" href="#index-error-en-3" title="Permalink to this headline">¶</a></h4>
<p>You tried to index a variable, but your index was wrong.
For example, you tried to get the 20th element of a vector which only has 17 elements.</p>
<p>This occurs when the index (or one of the items of the index) is:</p>
<ul class="simple">
<li><p>smaller than or equal to zero;</p></li>
<li><p>greater than the length of the variable, along the specified axis; or</p></li>
<li><p>not an integer.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="nv">forecast</span><span class="sr">[</span><span class="m">5</span><span class="sr">;</span><span class="m">5</span><span class="sr">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INDEX ERROR
      forecast[5;5]
              ∧
</pre></div>
</div>
</div>
</div>
<p>This doesn’t work because <code class="docutils literal notranslate"><span class="pre">forecast</span></code> has 6 columns but only 4 rows: the second index is good but the first one is not.</p>
<!--begin tip-->
<p><em><strong>Suggestion</strong></em>:</p>
<blockquote>
<div><p>If the error occurs in an indexing operation like <code class="docutils literal notranslate"><span class="pre">var[indexA;indexB;...]</span></code>, look at the shape of <code class="docutils literal notranslate"><span class="pre">var</span></code> and check if <code class="docutils literal notranslate"><span class="pre">indexA</span></code>, <code class="docutils literal notranslate"><span class="pre">indexB</span></code>, etc., contain values which are compatible with the size of <code class="docutils literal notranslate"><span class="pre">var</span></code>.</p>
</div></blockquote>
<!--end--></div>
<div class="section" id="domain-error-en-11">
<span id="first-aid-kit-domain-error-en11"></span><h4><span class="section-number">6.2.1.5. </span><code class="docutils literal notranslate"><span class="pre">DOMAIN</span> <span class="pre">ERROR</span></code> (<code class="docutils literal notranslate"><span class="pre">⎕EN=11</span></code>)<a class="headerlink" href="#domain-error-en-11" title="Permalink to this headline">¶</a></h4>
<p>This error is much more complex to diagnose.</p>
<p>It usually means that some function cannot be applied to a particular value or type of data; the data is oustide the <em>domain</em> in which the function is designed to operate.
Here are some very common circumstances in which a <code class="docutils literal notranslate"><span class="pre">DOMAIN</span> <span class="pre">ERROR</span></code> occurs:</p>
<ul class="simple">
<li><p>dividing by a zero;</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">3</span> <span class="o">÷</span> <span class="m">0</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DOMAIN ERROR: Divide by zero
      3÷0
       ∧
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">1</span> <span class="m">2</span> <span class="m">3</span> <span class="m">4</span> <span class="o">÷</span> <span class="m">0</span> <span class="m">1</span> <span class="m">2</span> <span class="m">3</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DOMAIN ERROR: Divide by zero
      1 2 3 4÷0 1 2 3
             ∧
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>arithmetic operations with non-numeric arguments;</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">45</span> <span class="o">+</span> <span class="s1">&#39;12&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DOMAIN ERROR
      45+&#39;12&#39;
        ∧
</pre></div>
</div>
</div>
</div>
<p>Beware: this may be difficult to see when a variable contains numeric characters such as <code class="docutils literal notranslate"><span class="pre">'0123456789'</span></code>.
Hint: for a simple array <code class="docutils literal notranslate"><span class="pre">a</span></code>, the expression <code class="docutils literal notranslate"><span class="pre">0=1↑0⍴a</span></code> returns <code class="docutils literal notranslate"><span class="pre">1</span></code> if the array is numeric and <code class="docutils literal notranslate"><span class="pre">0</span></code> if it is a character array:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">0</span><span class="o">=</span><span class="m">1</span><span class="o">↑</span><span class="m">0</span><span class="o">⍴</span><span class="m">123</span> <span class="m">2345</span> <span class="m">1</span> <span class="m">42</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">1

</span></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">0</span><span class="o">=</span><span class="m">1</span><span class="o">↑</span><span class="s1">&#39;12342&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">0

</span></div></div>
</div>
<ul class="simple">
<li><p>trying to index with characters or non-integer values;</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="nv">a</span> <span class="kd">←</span> <span class="m">1</span> <span class="m">2</span> <span class="m">3</span> <span class="m">4</span>
<span class="nv">a</span><span class="sr">[</span><span class="s1">&#39;2&#39;</span><span class="sr">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DOMAIN ERROR
      a[&#39;2&#39;]
       ∧
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="nv">a</span><span class="sr">[</span><span class="m">2.5</span><span class="sr">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DOMAIN ERROR
      a[2.5]
       ∧
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>using numbers other than <code class="docutils literal notranslate"><span class="pre">0</span></code> or <code class="docutils literal notranslate"><span class="pre">1</span></code> with Boolean operations, like <code class="docutils literal notranslate"><span class="pre">⍲</span></code>;</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">3</span> <span class="o">⍲</span> <span class="m">1</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DOMAIN ERROR
      3⍲1
       ∧
</pre></div>
</div>
</div>
</div>
<p>and</p>
<ul class="simple">
<li><p>some computations may result in numbers that are larger than the largest number that the computer can represent.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="o">*</span><span class="na">/</span><span class="o">⍳</span><span class="m">1000</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DOMAIN ERROR
      */⍳1000
      ∧
</pre></div>
</div>
</div>
</div>
<p>More generally, all these statements are in themselves perfectly correct when applied to appropriate data.
However, they may fail when applied to other, inappropriate data.</p>
<!--begin tip-->
<p><em><strong>Suggestion</strong></em>:</p>
<blockquote>
<div><p>Do not worry too much about the syntax of your statement: it is probably good.
You should instead try to determine which values are appropriate to the operation, and check whether the actual values are within the operation’s domain.</p>
</div></blockquote>
<!--end--></div>
<div class="section" id="syntax-error-en-2">
<span id="first-aid-kit-syntax-error-en2"></span><h4><span class="section-number">6.2.1.6. </span><code class="docutils literal notranslate"><span class="pre">SYNTAX</span> <span class="pre">ERROR</span></code> (<code class="docutils literal notranslate"><span class="pre">⎕EN=2</span></code>)<a class="headerlink" href="#syntax-error-en-2" title="Permalink to this headline">¶</a></h4>
<p>This error may also be a difficult one.
It means that a statement is ill-formed!
Do not worry about your data: the problem arises from the statement itself.</p>
<p>Typically, the reason is that you have entered the wrong number of parentheses, quotes, or brackets: check that your parentheses, quotes, and brackets are well balanced.</p>
<p>Here are some incorrect expressions:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="m">3</span><span class="o">+</span><span class="m">5</span><span class="p">)</span><span class="o">*</span><span class="m">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>SYNTAX ERROR
      (3+5)*2)
           ∧
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span>&#39;ISN&#39;T IT?&#39;
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>SYNTAX ERROR: Invalid token
      &#39;ISN&#39;T IT?&#39;
                ∧
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="nv">a</span><span class="sr">[</span><span class="nv">a</span><span class="sr">[</span><span class="m">3</span><span class="sr">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>SYNTAX ERROR
      a[a[3]
         ∧
</pre></div>
</div>
</div>
</div>
<p>Some other typical sources of <code class="docutils literal notranslate"><span class="pre">SYNTAX</span> <span class="pre">ERROR</span></code> include</p>
<ul class="simple">
<li><p>monadic use of a dyadic primitive or user-defined tradfn;</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="m">45</span> <span class="m">67</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>SYNTAX ERROR: The function requires a left argument
      &lt;45 67
      ∧
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="nv">Interlace</span> <span class="m">3</span> <span class="m">3</span><span class="o">⍴⍳</span><span class="m">9</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>SYNTAX ERROR: The function requires a left argument
      Interlace 3 3⍴⍳9
      ∧
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>use of the upper minus sign with a name;</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="nv">var</span> <span class="kd">←</span> <span class="m">5</span>
<span class="m">3</span><span class="o">+</span><span class="m">¯</span><span class="nv">var</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>SYNTAX ERROR: Invalid token
      3+¯ var
        ∧
</pre></div>
</div>
</div>
</div>
<p>(you should write <code class="docutils literal notranslate"><span class="pre">¯5</span></code> or <code class="docutils literal notranslate"><span class="pre">-var</span></code>)</p>
<ul class="simple">
<li><p>a missing <code class="docutils literal notranslate"><span class="pre">:End</span></code> in a control structure, or other inappropriate use of control structures.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="bp">∇</span> <span class="nv">BadTradfn</span> <span class="nv">val</span>
    <span class="bp">:</span><span class="nv">If</span> <span class="nv">val</span> <span class="o">&gt;</span> <span class="m">5</span>
        <span class="vg">⎕</span><span class="kd">←</span> <span class="s1">&#39;here&#39;</span>
<span class="bp">∇</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="nv">BadTradfn</span> <span class="m">4</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>SYNTAX ERROR
BadTradfn[1] :If val&gt;5
                    ∧
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="ws-full-en-1">
<span id="first-aid-kit-ws-full-en1"></span><h4><span class="section-number">6.2.1.7. </span><code class="docutils literal notranslate"><span class="pre">WS</span> <span class="pre">FULL</span></code> (<code class="docutils literal notranslate"><span class="pre">⎕EN=1</span></code>)<a class="headerlink" href="#ws-full-en-1" title="Permalink to this headline">¶</a></h4>
<p>You have probably tried to create an array that would be larger than the amount of available memory in the workspace.</p>
<ul class="simple">
<li><p>if it happens with <em>reshape</em> (<code class="docutils literal notranslate"><span class="pre">shape⍴contents</span></code>), check whether the left argument is much bigger than you anticipated;</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span>_ ← 100000000⍴3.4 1 0J1.2
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>WS FULL
      _←100000000⍴3.4 1 0J1.2
                 ∧
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>similarly, if it happens with <em>compress</em>/<em>replicate</em> (<code class="docutils literal notranslate"><span class="pre">numbers/variable</span></code>), check that the left argument does not contain large numeric values (<code class="docutils literal notranslate"><span class="pre">101101/variable</span></code> is not the same as <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">0</span> <span class="pre">1</span> <span class="pre">1</span> <span class="pre">0</span> <span class="pre">1/variable</span></code>).</p></li>
</ul>
<p>A <code class="docutils literal notranslate"><span class="pre">WS</span> <span class="pre">FULL</span></code> may also happen when a recursive function working on a large amount of data calls itself a large number of items.
If this happens, consider whether a plain loop might be a safer solution.</p>
</div>
</div>
<div class="section" id="some-other-errors">
<span id="first-aid-kit-some-other-errors"></span><h3><span class="section-number">6.2.2. </span>Some Other Errors<a class="headerlink" href="#some-other-errors" title="Permalink to this headline">¶</a></h3>
<div class="section" id="can-t-fix">
<span id="first-aid-kit-cant-fix"></span><h4><span class="section-number">6.2.2.1. </span>Can’t Fix<a class="headerlink" href="#can-t-fix" title="Permalink to this headline">¶</a></h4>
<p>This is not an execution error.
It happens only when you try to define a function and APL cannot fix it because its header is incorrect.
Here are some things you should check:</p>
<ul class="simple">
<li><p>in a tradfn header, check that all your local variables are separated by semi-colons and not by some other characters (dot, comma, blank, …) and check that there is no extra semi-colon to the right;</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">F</span> <span class="pre">rarg;</span> <span class="pre">loca,</span> <span class="pre">locb;</span> <span class="pre">locc</span></code> is invalid because there is a comma instead of a semi-colon; and</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">F</span> <span class="pre">rarg;</span> <span class="pre">loca;</span> <span class="pre">locb;</span> <span class="pre">locc;</span></code> is invalid because there is an extra semi-colon.</p></li>
</ul>
</li>
<li><p>in a tradfn header, check that you haven’t tried to specify a nested left argument. This is only allowed for the right argument:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">left</span> <span class="pre">F</span> <span class="pre">(one</span> <span class="pre">two</span> <span class="pre">three)</span></code> is valid; but</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">(one</span> <span class="pre">two</span> <span class="pre">three)</span> <span class="pre">F</span> <span class="pre">right</span></code> is invalid.</p></li>
</ul>
</li>
<li><p>for dfns and tradfns, check the name of your function. If the name you chose is already in use as a variable, you cannot define a function with that name; and</p></li>
<li><p>for a dfn, check that the opening and closing curly braces match.</p></li>
</ul>
</div>
<div class="section" id="not-saved-this-ws-is">
<span id="first-aid-kit-not-saved-this-ws-is"></span><h4><span class="section-number">6.2.2.2. </span>Not Saved, This Ws Is…<a class="headerlink" href="#not-saved-this-ws-is" title="Permalink to this headline">¶</a></h4>
<p>You started with a clear workspace and spent hours developing a set of functions.
At the end of the day you decide to save it:</p>
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span>      <span class="p">)</span><span class="nv">save</span> <span class="nv">D</span><span class="bp">:</span><span class="na">\</span><span class="nv">Washington</span><span class="na">\</span><span class="nv">APL</span><span class="na">\</span><span class="nv">WS</span><span class="na">\</span><span class="nv">Bidou</span>
<span class="nv">Not</span> <span class="nv">saved</span><span class="o">,</span> <span class="nv">this</span> <span class="nv">ws</span> <span class="nv">is</span> <span class="nv">CLEAR</span> <span class="nv">WS</span>
</pre></div>
</div>
<p>Don’t panic!
This does not mean that your workspace is empty and that you have lost all your work; it is just a friendly warning.</p>
<p>It so happens that in this case a saved workspace named <code class="docutils literal notranslate"><span class="pre">Bidou</span></code> already exists and Dyalog APL refuses to overwrite it with the active workspace.</p>
<p>Had you been working on a workspace that had the name <code class="docutils literal notranslate"><span class="pre">Tartempion</span></code> (instead of having started with a clear workspace), the warning message would have been <code class="docutils literal notranslate"><span class="pre">Not</span> <span class="pre">saved,</span> <span class="pre">this</span> <span class="pre">ws</span> <span class="pre">is</span> <span class="pre">Tartempion</span></code>.</p>
<p>But because you started with a <code class="docutils literal notranslate"><span class="pre">CLEAR</span> <span class="pre">WS</span></code> and you have not explicitly renamed the workspace, APL will not allow you to save it until you give it a name.
Hence the alarming message that says <code class="docutils literal notranslate"><span class="pre">Not</span> <span class="pre">saved,</span> <span class="pre">this</span> <span class="pre">ws</span> <span class="pre">is</span> <span class="pre">CLEAR</span> <span class="pre">WS</span></code>.</p>
<p>For this reason, if you are using the Windows IDE, always prefer the graphical interface for saving workspaces, using a file search dialog box.</p>
</div>
</div>
</div>
<div class="section" id="trace-tools">
<span id="first-aid-kit-trace-tools"></span><h2><span class="section-number">6.3. </span>Trace Tools<a class="headerlink" href="#trace-tools" title="Permalink to this headline">¶</a></h2>
<div class="section" id="invoke-and-use-the-tracer">
<span id="first-aid-kit-invoke-and-use-the-tracer"></span><h3><span class="section-number">6.3.1. </span>Invoke and Use the Tracer<a class="headerlink" href="#invoke-and-use-the-tracer" title="Permalink to this headline">¶</a></h3>
<div class="section" id="invoke-the-tracer">
<span id="first-aid-kit-invoke-the-tracer"></span><h4><span class="section-number">6.3.1.1. </span>Invoke the Tracer<a class="headerlink" href="#invoke-the-tracer" title="Permalink to this headline">¶</a></h4>
<p>If you want the tracer to be opened automatically when an error occurs, then you need to make sure to configure that behaviour:</p>
<ul class="simple">
<li><p>in the Windows IDE, go to “Options” ⇨ “Configure…” ⇨ “Trace/Edit” and make sure to select the option that reads “Show trace stack on error”; or</p></li>
<li><p>in RIDE, add the line <code class="docutils literal notranslate"><span class="pre">Trace_On_Error=1</span></code> to the “Arguments” box in your connect/start screen. (You can read more about this configuration parameter and all others <a class="reference external" href="http://help.dyalog.com/18.0/#UserGuide/Installation%20and%20Configuration/Configuration%20Parameters.htm">in Dyalog’s Documentation Centre</a>.)
If you do not configure your IDE this way, you must invoke the tracer manually when needed.</p></li>
</ul>
<p>When an error occurs, check that your cursor is on an empty line (it should be), and just press <kbd>Ctr</kbd>+<kbd>Enter</kbd> or activate “Action” ⇨ “Trace” in the toolbar.
This is called a <em>naked trace</em>.</p>
<p>But sometimes it is better to anticipate that there will be errors, and trace the execution from the beginning.
You can type any valid statement and instead of pressing <kbd>Enter</kbd> to execute it, press <kbd>Ctrl</kbd>+<kbd>Enter</kbd> (the easy way) or activate “Action” ⇨ “Trace” in the session toolbar to trace it.
All the functions referenced by this statement will be traced.</p>
<p>Using this technique, you can trace the execution of a function from the very beginning.</p>
</div>
<div class="section" id="trace-actions">
<span id="first-aid-kit-trace-actions"></span><h4><span class="section-number">6.3.1.2. </span>Trace Actions<a class="headerlink" href="#trace-actions" title="Permalink to this headline">¶</a></h4>
<p>All of the things that you can do may be actioned using the keyboard or the little toolbar which appears on top of the trace window.
In the table below, you will find the icons displayed on these buttons (in the Windows IDE and in RIDE), what they do, and the equivalent keyboard shortcuts (if any).
Preferably use the keyboard when you can: you will save time.</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-align:center head"><p>Win icon*</p></th>
<th class="text-align:center head"><p>IDE icon*</p></th>
<th class="text-align:left head"><p>Usage</p></th>
<th class="text-align:left head"><p>Keyboard shortcut</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-align:center"><p><img alt="" src="_images/trace_theme-04-00.png" /></p></td>
<td class="text-align:center"><p><img alt="" src="_images/execute.png" /></p></td>
<td class="text-align:left"><p>Execute expression</p></td>
<td class="text-align:left"><p><kbd>Enter</kbd></p></td>
</tr>
<tr class="row-odd"><td class="text-align:center"><p><img alt="" src="_images/trace_theme-05-00.png" /></p></td>
<td class="text-align:center"><p><img alt="" src="_images/trace_into.png" /></p></td>
<td class="text-align:left"><p>Trace expression</p></td>
<td class="text-align:left"><p><kbd>Ctrl</kbd>+<kbd>Enter</kbd></p></td>
</tr>
<tr class="row-even"><td class="text-align:center"><p><img alt="" src="_images/trace_theme-00-00.png" /></p></td>
<td class="text-align:center"><p>⁽**⁾</p></td>
<td class="text-align:left"><p>Go back one line</p></td>
<td class="text-align:left"><p><kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>Backspace</kbd></p></td>
</tr>
<tr class="row-odd"><td class="text-align:center"><p><img alt="" src="_images/trace_theme-01-00.png" /></p></td>
<td class="text-align:center"><p>⁽**⁾</p></td>
<td class="text-align:left"><p>Skip current line</p></td>
<td class="text-align:left"><p><kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>Enter</kbd></p></td>
</tr>
<tr class="row-even"><td class="text-align:center"><p><img alt="" src="_images/trace_theme-06-00.png" /></p></td>
<td class="text-align:center"><p><img alt="" src="_images/trace_out.png" /></p></td>
<td class="text-align:left"><p>Stop on next line of calling function</p></td>
<td class="text-align:left"><p></p></td>
</tr>
<tr class="row-odd"><td class="text-align:center"><p><img alt="" src="_images/trace_theme-07-00.png" /></p></td>
<td class="text-align:center"><p><img alt="" src="_images/continue_thread.png" /></p></td>
<td class="text-align:left"><p>Continue execution of this thread</p></td>
<td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">→⎕LC</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-align:center"><p><img alt="" src="_images/trace_theme-10-00.png" /></p></td>
<td class="text-align:center"><p><img alt="" src="_images/continue_all_threads.png" /></p></td>
<td class="text-align:left"><p>Continue execution of all threads</p></td>
<td class="text-align:left"><p></p></td>
</tr>
<tr class="row-odd"><td class="text-align:center"><p><img alt="" src="_images/trace_theme-03-00.png" /></p></td>
<td class="text-align:center"><p><img alt="" src="_images/edit.png" /></p></td>
<td class="text-align:left"><p>Edit name</p></td>
<td class="text-align:left"><p><kbd>Shift</kbd>+<kbd>Enter</kbd></p></td>
</tr>
<tr class="row-even"><td class="text-align:center"><p><img alt="" src="_images/trace_theme-02-00.png" /></p></td>
<td class="text-align:center"><p><img alt="" src="_images/quit.png" /></p></td>
<td class="text-align:left"><p>Quit this function</p></td>
<td class="text-align:left"><p><kbd>Esc</kbd></p></td>
</tr>
<tr class="row-odd"><td class="text-align:center"><p><img alt="" src="_images/trace_theme-08-00.png" /></p></td>
<td class="text-align:center"><p><img alt="" src="_images/interrupt.png" /></p></td>
<td class="text-align:left"><p>Interrupt</p></td>
<td class="text-align:left"><p><kbd>Ctrl</kbd>+<kbd>Pause</kbd></p></td>
</tr>
<tr class="row-even"><td class="text-align:center"><p><img alt="" src="_images/trace_theme-09-00.png" /></p></td>
<td class="text-align:center"><p><img alt="" src="_images/trace_theme-09-00.png" /></p></td>
<td class="text-align:left"><p>Clear trace/stop/monitor for this object</p></td>
<td class="text-align:left"><p></p></td>
</tr>
<tr class="row-odd"><td class="text-align:center"><p><img alt="" src="_images/trace_theme-14-00.png" /></p></td>
<td class="text-align:center"><p><img alt="" src="_images/trace_theme-14-00.png" /></p></td>
<td class="text-align:left"><p>Toggle line numbers</p></td>
<td class="text-align:left"><p></p></td>
</tr>
<tr class="row-even"><td class="text-align:center"><p></p></td>
<td class="text-align:center"><p><img alt="" src="_images/search.png" /></p></td>
<td class="text-align:left"><p>Open Search area</p></td>
<td class="text-align:left"><p></p></td>
</tr>
<tr class="row-odd"><td class="text-align:center"><p><img alt="" src="_images/trace_theme-16-00.png" /></p></td>
<td class="text-align:center"><p><img alt="" src="_images/next.png" /></p></td>
<td class="text-align:left"><p>Search for next match</p></td>
<td class="text-align:left"><p></p></td>
</tr>
<tr class="row-even"><td class="text-align:center"><p><img alt="" src="_images/trace_theme-15-00.png" /></p></td>
<td class="text-align:center"><p><img alt="" src="_images/prev.png" /></p></td>
<td class="text-align:left"><p>Search for previous match</p></td>
<td class="text-align:left"><p></p></td>
</tr>
<tr class="row-odd"><td class="text-align:center"><p><img alt="" src="_images/trace_theme-17-00.png" /></p></td>
<td class="text-align:center"><p></p></td>
<td class="text-align:left"><p>Search hidden text</p></td>
<td class="text-align:left"><p></p></td>
</tr>
<tr class="row-even"><td class="text-align:center"><p><img alt="" src="_images/trace_theme-21-00.png" /></p></td>
<td class="text-align:center"><p><img alt="" src="_images/trace_theme-21-00.png" /></p></td>
<td class="text-align:left"><p>Match case</p></td>
<td class="text-align:left"><p></p></td>
</tr>
<tr class="row-odd"><td class="text-align:center"><p><img alt="" src="_images/trace_theme-22-00.png" /></p></td>
<td class="text-align:center"><p><img alt="" src="_images/trace_theme-22-00.png" /></p></td>
<td class="text-align:left"><p>Match whole word</p></td>
<td class="text-align:left"><p></p></td>
</tr>
<tr class="row-even"><td class="text-align:center"><p><img alt="" src="_images/trace_theme-23-00.png" /></p></td>
<td class="text-align:center"><p><img alt="" src="_images/trace_theme-23-00.png" /></p></td>
<td class="text-align:left"><p>Use regular expressions</p></td>
<td class="text-align:left"><p></p></td>
</tr>
<tr class="row-odd"><td class="text-align:center"><p></p></td>
<td class="text-align:center"><p><img alt="" src="_images/find_in_selection.png" /></p></td>
<td class="text-align:left"><p>Find in selection</p></td>
<td class="text-align:left"><p></p></td>
</tr>
</tbody>
</table>
<p>⁽*⁾ a blank means the feature is not available in that IDE; current icons might differ from the ones shown in the table.</p>
<p>⁽**⁾ feature available on RIDE through the keyboard shortcut only.</p>
</div>
<div class="section" id="trace-strategies">
<span id="first-aid-kit-trace-strategies"></span><h4><span class="section-number">6.3.1.3. </span>Trace Strategies<a class="headerlink" href="#trace-strategies" title="Permalink to this headline">¶</a></h4>
<p>Usually, the tracer is employed to execute a function step by step, by repeatedly pressing the <kbd>Enter</kbd> key.
At each step, you can check the values of your variables.
You might perhaps monitor the values of certain significant variables, each in its own window, and see how they change when the function is executed, step after step, or in continuous mode.</p>
<p>When the current statement includes a call to one or more user-defined sub functions, you must decide how it should be processed:</p>
<ul class="simple">
<li><p>if you are confident in those sub functions and have no doubt about them, just press the <kbd>Enter</kbd> key, and the current line will be executed; or</p></li>
<li><p>if you think that a sub function requires investigation, press <kbd>Ctrl</kbd>+<kbd>Enter</kbd> or click on the “Trace expression” button.
This will open the tracer on each of the sub functions in turn.
You can continue tracing to any depth of function call.</p></li>
</ul>
<p>We exemplify this below. <a class="reference internal" href="#fig-tracer-palindrome-01"><span class="std std-numref">Fig. 6.8</span></a> shows the tracer window that pops up
as we execute the line <code class="docutils literal notranslate"><span class="pre">Palindrome</span> <span class="pre">'Just</span> <span class="pre">to</span> <span class="pre">show</span> <span class="pre">a</span> <span class="pre">function</span> <span class="pre">call'</span></code> with
<kbd>Ctrl</kbd>+<kbd>Enter</kbd>.
Notice that, to the right of the body of the <code class="docutils literal notranslate"><span class="pre">Palindrome</span></code> function, we have the stack indicator information.
There is also a light rectangle surrounding the very first line of the <code class="docutils literal notranslate"><span class="pre">Palindrome</span></code> function, highlighting the expression that is going to be run next.</p>
<div class="figure align-default" id="tracer-palindrome-01">
<span id="fig-tracer-palindrome-01"></span><img alt="_images/Tracer_Palindrome_01.png" src="_images/Tracer_Palindrome_01.png" />
<p class="caption"><span class="caption-number">Fig. 6.8 </span><span class="caption-text">The tracer window in its initial state.</span><a class="headerlink" href="#tracer-palindrome-01" title="Permalink to this image">¶</a></p>
</div>
<p>We are confident that the <code class="docutils literal notranslate"><span class="pre">Upper</span></code> function works as intended, so we can just execute that expression with <kbd>Enter</kbd> (or by pressing the “Execute expression” button).
This executes the expression normally and then leaves the tracer at the second line of the <code class="docutils literal notranslate"><span class="pre">Palindrome</span></code> function, like <a class="reference internal" href="#fig-tracer-palindrome-02"><span class="std std-numref">Fig. 6.9</span></a> shows:</p>
<div class="figure align-default" id="tracer-palindrome-02">
<span id="fig-tracer-palindrome-02"></span><img alt="_images/Tracer_Palindrome_02.png" src="_images/Tracer_Palindrome_02.png" />
<p class="caption"><span class="caption-number">Fig. 6.9 </span><span class="caption-text">The tracer window stopped at the second line of the <code class="docutils literal notranslate"><span class="pre">Palindrome</span></code> function.</span><a class="headerlink" href="#tracer-palindrome-02" title="Permalink to this image">¶</a></p>
</div>
<p>The next statement to be executed is the expression that calls the <code class="docutils literal notranslate"><span class="pre">ReverBug</span></code> function, which we are suspicious of.
Because we want to trace <em>into</em> this function, we press <kbd>Ctrl</kbd>+<kbd>Enter</kbd> and the tracer window now shows the definition of the <code class="docutils literal notranslate"><span class="pre">ReverBug</span></code> function.
On the right, the state indicator was now updated to include <code class="docutils literal notranslate"><span class="pre">ReverBug</span></code> at the top of the stack.
We can see this in <a class="reference internal" href="#fig-tracer-palindrome-03"><span class="std std-numref">Fig. 6.10</span></a>.</p>
<div class="figure align-default" id="tracer-palindrome-03">
<span id="fig-tracer-palindrome-03"></span><img alt="_images/Tracer_Palindrome_03.png" src="_images/Tracer_Palindrome_03.png" />
<p class="caption"><span class="caption-number">Fig. 6.10 </span><span class="caption-text">We trace into the <code class="docutils literal notranslate"><span class="pre">ReverBug</span></code> function.</span><a class="headerlink" href="#tracer-palindrome-03" title="Permalink to this image">¶</a></p>
</div>
<p>If you are using the Windows IDE, you can use the dropdown on the tracer toolbar to take a look at any other function in the stack.
In <a class="reference internal" href="#fig-tracer-palindrome-04"><span class="std std-numref">Fig. 6.11</span></a> we reopen the
<code class="docutils literal notranslate"><span class="pre">Palindrome</span></code> function and we see its background is in a different shade of grey, because <code class="docutils literal notranslate"><span class="pre">Palindrome</span></code> is now suspended, waiting for the <code class="docutils literal notranslate"><span class="pre">ReverBug</span></code> function to finish.</p>
<div class="figure align-default" id="tracer-palindrome-04">
<span id="fig-tracer-palindrome-04"></span><img alt="_images/Tracer_Palindrome_04.png" src="_images/Tracer_Palindrome_04.png" />
<p class="caption"><span class="caption-number">Fig. 6.11 </span><span class="caption-text">Looking at the <code class="docutils literal notranslate"><span class="pre">Palindrome</span></code> function while it is suspended.</span><a class="headerlink" href="#tracer-palindrome-04" title="Permalink to this image">¶</a></p>
</div>
<p>We are interested in debugging the <code class="docutils literal notranslate"><span class="pre">ReverBug</span></code> function, so we return our tracer to the <code class="docutils literal notranslate"><span class="pre">ReverBug</span></code> function.
Now we want to see how the value of <code class="docutils literal notranslate"><span class="pre">rev</span></code> evolves during the loop, so, we can initialise <code class="docutils literal notranslate"><span class="pre">rev</span></code> (that is, run the first expression that assigns something to <code class="docutils literal notranslate"><span class="pre">rev</span></code>) and then double-click its name to open the editor window on it.
Now we can see <code class="docutils literal notranslate"><span class="pre">rev</span></code> being updated as we trace through the loop, if we run the expressions one by one.
After a couple of iterations, our session could look like this:</p>
<div class="figure align-default" id="tracer-palindrome-05">
<span id="fig-tracer-palindrome-05"></span><img alt="_images/Tracer_Palindrome_05.png" src="_images/Tracer_Palindrome_05.png" />
<p class="caption"><span class="caption-number">Fig. 6.12 </span><span class="caption-text">The editor shows the value of <code class="docutils literal notranslate"><span class="pre">rev</span></code> mid-execution of the <code class="docutils literal notranslate"><span class="pre">ReverBug</span></code> function.</span><a class="headerlink" href="#tracer-palindrome-05" title="Permalink to this image">¶</a></p>
</div>
<p>Notice that in <a class="reference internal" href="#fig-tracer-palindrome-05"><span class="std std-numref">Fig. 6.12</span></a>
the window on the right is the editor window showing the value that <code class="docutils literal notranslate"><span class="pre">rev</span></code> has at that point of the execution of <code class="docutils literal notranslate"><span class="pre">ReverBug</span></code>.
If we trace through the remainder of the function, the editor window will close automatically when we leave <code class="docutils literal notranslate"><span class="pre">ReverBug</span></code> because <code class="docutils literal notranslate"><span class="pre">rev</span></code>, as a variable inside <code class="docutils literal notranslate"><span class="pre">ReverBug</span></code>, no longer exists.</p>
<p>When in the tracer you can also move the red line to skip some statements:</p>
<ul class="simple">
<li><p><strong>backward</strong> if you want to re-execute some statements after you have changed some parameters or variables, or changed the code, etc. Press <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>Backspace</kbd> (or use the “Go back one line” button in the Windows IDE); or</p></li>
<li><p><strong>forward</strong>, to skip some insignificant statements. Press <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>Enter</kbd> (or use the “Skip current line” button in the Windows IDE).</p></li>
</ul>
<p>Sometimes an error appears only after an unpredictable number of iterations, and tracing the execution statement after statement would take much too long.
In a situation like this, you can display some important variables as shown above, and run the function in automatic mode (press the “stop on next line of calling function” button).
You can then stop execution with the “interrupt” button when a given variable is about to take what you suspect might be a critical value.</p>
<p>When you have finished your investigations you can:</p>
<ul class="simple">
<li><p>resume execution automatically by pressing the “continue execution of this/all threads” buttons, or by executing <code class="docutils literal notranslate"><span class="pre">→⎕LC</span></code>; or</p></li>
<li><p>abort execution by pressing the “quit”  button, or by typing <code class="docutils literal notranslate"><span class="pre">→0</span></code>, or <code class="docutils literal notranslate"><span class="pre">→</span></code>, or <code class="docutils literal notranslate"><span class="pre">)reset</span></code>, depending on your intentions.</p></li>
</ul>
</div>
</div>
<div class="section" id="choose-your-configuration">
<span id="first-aid-kit-choose-your-configuration"></span><h3><span class="section-number">6.3.2. </span>Choose your Configuration<a class="headerlink" href="#choose-your-configuration" title="Permalink to this headline">¶</a></h3>
<p>If your program is interrupted in a very deep stack of functions you might prefer if the editor does not open one trace window for every suspended function you have, as those windows may end up occupying most of the screen.
You might also prefer to have your trace windows be floating independently of the session, or docked perhaps to the bottom or the side of the interpreter.</p>
<p>By default, the trace window is docked to the session.
If you want to change this</p>
<ul class="simple">
<li><p>on the Windows IDE, go to “Options” ⇨ “Configure” ⇨ “Trace/Edit” and select the option “Classic Dyalog mode”.</p></li>
<li><p>on RIDE, go to “Edit” ⇨ “Preferences” ⇨ “Windows” and select the option “Floating windows”.</p></li>
</ul>
<p>With regards to having multiple trace windows open, one per sub-function that is suspended, that is never a problem on RIDE because RIDE has a single trace window for all the suspended and interrupted functions.
On the Windows IDE, you just have to enable or disable the “Single trace window” option that is under “Classic Dyalog mode”.</p>
<p>When the IDE is set to only have a single trace window, the contents of the trace window are replaced by the new current function, both when the execution enters a sub function and when it returns to its calling function.</p>
<p>It is up to you to decide which configuration is most convenient for you.
In any case, this can be changed dynamically, without restarting APL.</p>
<!--begin note-->
<p><em><strong>Note</strong></em>:</p>
<blockquote>
<div><p>Notice that some of these settings might also affect how <em>edit</em> windows are displayed, so be sure to have that in mind when picking your preferred configuration.</p>
</div></blockquote>
<!--end--></div>
<div class="section" id="breakpoints-and-trace-controls">
<span id="first-aid-kit-breakpoints-and-trace-controls"></span><h3><span class="section-number">6.3.3. </span>Breakpoints and Trace-Controls<a class="headerlink" href="#breakpoints-and-trace-controls" title="Permalink to this headline">¶</a></h3>
<div class="section" id="set-breakpoints">
<span id="first-aid-kit-set-breakpoints"></span><h4><span class="section-number">6.3.3.1. </span>Set Breakpoints<a class="headerlink" href="#set-breakpoints" title="Permalink to this headline">¶</a></h4>
<p>When one wants to investigate the behaviour of a set of statements nested in a very deep sub-function, the best option is to run the main function but tell the system to interrupt the execution just before a particular statement is executed.
To achieve this, one can place <em>breakpoints</em> (sometimes named <em>stops</em>) on one or more statements.</p>
<p>When you edit or trace a function, you normally have a blank column to the left of the function body, as shown in <a class="reference internal" href="#fig-ide-set-breakpoints"><span class="std std-numref">Fig. 6.13</span></a>.
If this is not the case, activate the menu option “View” ⇨ “Stop” (or “Stops”, depending on the IDE).
If you are using the Windows IDE, go ahead and deselect the two other options “Trace” and “Monitor” for now.</p>
<div class="figure align-default" id="ide-set-breakpoints">
<span id="fig-ide-set-breakpoints"></span><img alt="_images/IDE_Set_Breakpoints.png" src="_images/IDE_Set_Breakpoints.png" />
<p class="caption"><span class="caption-number">Fig. 6.13 </span><span class="caption-text">Where to set breakpoints in the two main IDEs.</span><a class="headerlink" href="#ide-set-breakpoints" title="Permalink to this image">¶</a></p>
</div>
<p>You can set or remove breakpoints by clicking in this column, on the line on which you wish to toggle the breakpoint.
A red dot shows that the breakpoint is set.
You can set and clear breakpoints in edit windows as well as in trace windows, and they can be changed at any time.</p>
<p>When one of the marked functions is executed, it stops before each breakpoint, like it is shown in <a class="reference internal" href="#fig-win-stop-at-breakpoint"><span class="std std-numref">Fig. 6.14</span></a>.</p>
<div class="figure align-default" id="win-stop-at-breakpoint">
<span id="fig-win-stop-at-breakpoint"></span><img alt="_images/Win_Stop_At_Breakpoint.png" src="_images/Win_Stop_At_Breakpoint.png" />
<p class="caption"><span class="caption-number">Fig. 6.14 </span><span class="caption-text">Windows interpreter stops execution right before the first breakpoint.</span><a class="headerlink" href="#win-stop-at-breakpoint" title="Permalink to this image">¶</a></p>
</div>
<p>Looking at <a class="reference internal" href="#fig-win-stop-at-breakpoint"><span class="std std-numref">Fig. 6.14</span></a>, we also see that <code class="docutils literal notranslate"><span class="pre">⎕DM</span></code> reports no error, only the statement at which we stopped.</p>
<p>After stopping at a breakpoint you can make all the experiments you need to do, and restart the function at will, in continuous or trace mode.</p>
</div>
<div class="section" id="remove-breakpoints">
<span id="first-aid-kit-remove-breakpoints"></span><h4><span class="section-number">6.3.3.2. </span>Remove Breakpoints<a class="headerlink" href="#remove-breakpoints" title="Permalink to this headline">¶</a></h4>
<p>Each breakpoint can be removed individually with the mouse, as explained before.
But after a long period of testing and debugging, it may be difficult to remember where breakpoints were set, and it is unacceptable to hand over a finished application to the end-user if it contains breakpoints.</p>
<p>For this reason, always remove all the breakpoints by going to “Action” ⇨ “Clear stops” on the Windows IDE and “Action” ⇨ “Clear all trace/stop/monitor” on RIDE.
This menu button removes all of the breakpoints from all of your functions, throughout the entire workspace.
(On the Windows IDE you can also use the appropriate toolbar icon, which should look the same as the “Clear trace/stop/monitor for this object” button from the trace window.)</p>
</div>
<div class="section" id="programmatically-setting-breakpoints">
<span id="first-aid-kit-programmatically-setting-breakpoints"></span><h4><span class="section-number">6.3.3.3. </span>Programmatically Setting Breakpoints<a class="headerlink" href="#programmatically-setting-breakpoints" title="Permalink to this headline">¶</a></h4>
<p>Breakpoints can also be set and removed using a system function: <code class="docutils literal notranslate"><span class="pre">lines</span> <span class="pre">⎕STOP</span> <span class="pre">'function'</span></code>.</p>
<p>Recall the <code class="docutils literal notranslate"><span class="pre">Upper</span></code> function that returns a string in all uppercase:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="nv">Upper</span> <span class="s1">&#39;What is this?&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">WHATISTHIS

</span></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="nf">⎕VR</span> <span class="s1">&#39;Upper&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">     ∇ Upper←{                             
[1]        low←'abcdefghijklmnopqrstuvwxyz'
[2]        up←'ABCDEFGHIJKLMNOPQRSTUVWXYZ' 
[3]        all←low,up                      
[4]        text←(⍵∊all)/⍵                  
[5]        (up,up)[all⍳text]               
[6]    }                                   
     ∇                                     

</span></div></div>
</div>
<p>We can set breakpoints for the lines 2 and 4 if we give the function name to the <code class="docutils literal notranslate"><span class="pre">⎕STOP</span></code> system function:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">2</span> <span class="m">4</span><span class="nf">⎕STOP</span> <span class="s1">&#39;Upper&#39;</span>
</pre></div>
</div>
</div>
</div>
<p>Now if we run <code class="docutils literal notranslate"><span class="pre">Upper</span></code> again, it will stop at line <code class="docutils literal notranslate"><span class="pre">2</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="nv">Upper</span> <span class="s1">&#39;What is this?&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Upper[2]
</pre></div>
</div>
</div>
</div>
<p>On the Windows IDE or RIDE the trace window should open and you can inspect the variables that are local to <code class="docutils literal notranslate"><span class="pre">Upper</span></code> that have already been defined.
When you tell the tracer to continue, it will resume execution and then stop at line 4 of the <code class="docutils literal notranslate"><span class="pre">Upper</span></code> function, because you also set that breakpoint.</p>
<p>If you want to change the breakpoints that are set, just call the function again.
Subsequent calls to <code class="docutils literal notranslate"><span class="pre">⎕STOP</span></code> replace the breakpoints that were set previously, so</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">4</span><span class="nf">⎕STOP</span> <span class="s1">&#39;Upper&#39;</span>
</pre></div>
</div>
</div>
</div>
<p>Sets a single breakpoint at line 4.</p>
<p>In the <code class="docutils literal notranslate"><span class="pre">lines</span> <span class="pre">⎕STOP</span> <span class="pre">'function'</span></code> syntax, notice that</p>
<ul class="simple">
<li><p>numbers outside the range of available statements are ignored; and</p></li>
<li><p>a zero means that a breakpoint will be placed immediately prior to exiting from the function.</p></li>
</ul>
<p>Therefore, the line</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">4</span> <span class="m">9</span> <span class="m">0</span><span class="nf">⎕STOP</span> <span class="s1">&#39;Upper&#39;</span>
</pre></div>
</div>
</div>
</div>
<p>sets a breakpoint on line 4, then ignores the 9 because <code class="docutils literal notranslate"><span class="pre">Upper</span></code> only has 6 lines, and 0 sets a breakpoint for immediately before <code class="docutils literal notranslate"><span class="pre">Upper</span></code> finishes.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">⎕STOP</span></code> function returns a shy result indicating the lines in which breakpoints have been actually set:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="vg">⎕</span><span class="kd">←</span><span class="m">4</span> <span class="m">9</span> <span class="m">0</span><span class="nf">⎕STOP</span> <span class="s1">&#39;Upper&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">0 4

</span></div></div>
</div>
<p>The monadic usage of these functions returns the current breakpoints for a function:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="nf">⎕STOP</span> <span class="s1">&#39;Upper&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">0 4

</span></div></div>
</div>
<p>The breakpoints can be removed by specifying an empty vector:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="no">⍬</span><span class="nf">⎕STOP</span> <span class="s1">&#39;Upper&#39;</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="intentional-interruption">
<span id="first-aid-kit-intentional-interruption"></span><h4><span class="section-number">6.3.3.4. </span>Intentional Interruption<a class="headerlink" href="#intentional-interruption" title="Permalink to this headline">¶</a></h4>
<p>When an application is running in its normal production context, it is possible that some unexpected circumstances may cause it to crash at an unpredictable point.
To cater for this eventuality, it is common practice to set a general error trap, using the techniques described in <span class="xref myst">a later chapter</span>, and halt execution in a controlled manner at a predefined point in the program, so that the developer is able to diagnose and correct the problem.</p>
<p>To deliberately make a function stop under program control, one can use <code class="docutils literal notranslate"><span class="pre">⎕STOP</span></code>, or generate an intentional error.
The latter is probably easier, even for a beginner.
There are many ways to do this, but a common one is to jump to a dedicated erroneous statement containing the single character <code class="docutils literal notranslate"><span class="pre">∘</span></code>, <em>jot</em>, obtained by pressing <kbd>Ctrl</kbd>+<kbd>j</kbd>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="na">∘</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>SYNTAX ERROR
      ∘
      ∧
</pre></div>
</div>
</div>
</div>
<p>As you can see above, this symbol alone does not mean anything, so it causes a <code class="docutils literal notranslate"><span class="pre">SYNTAX</span> <span class="pre">ERROR</span></code>. You may encounter this in existing applications.</p>
<p>Another alternative is to type <code class="docutils literal notranslate"><span class="pre">...</span></code>, which also raises a <code class="docutils literal notranslate"><span class="pre">SYNTAX</span> <span class="pre">ERROR</span></code> and can also be used inline. Another advantage of using <code class="docutils literal notranslate"><span class="pre">...</span></code> is that it is easier to search for with text search tools, because <code class="docutils literal notranslate"><span class="pre">...</span></code> is never valid code, whereas <code class="docutils literal notranslate"><span class="pre">∘</span></code> can be used inside statements.</p>
</div>
<div class="section" id="trace-controls">
<span id="first-aid-kit-trace-controls"></span><h4><span class="section-number">6.3.3.5. </span>Trace-Controls<a class="headerlink" href="#trace-controls" title="Permalink to this headline">¶</a></h4>
<p>Earlier, we saw a very convenient way of tracing functions with the trace window.
There is another debugging technique in which functions are executed normally; no trace windows are employed and there is no need to execute statements step by step.
To set this up, <strong>before</strong> execution, the developer sets trace-controls on selected statements in one or more functions.
Whenever a line marked by a trace-control is executed, the last value calculated on that line will be displayed in the session, without interrupting execution.
Let us explore this technique.</p>
<!--begin remark-->
<p><em><strong>Remark</strong></em>:</p>
<blockquote>
<div><p>Bear in mind that this technique only works with tradfns, which is one of the reasons we said tradfns can be easier to debug in <a class="reference internal" href="User-Defined-Functions.html#user-defined-functions-use-cases"><span class="std std-numref">Section 5.8.2</span></a>.</p>
</div></blockquote>
<!--end-->
<p>First, in <code class="docutils literal notranslate"><span class="pre">Palindrome</span></code>, let us replace <code class="docutils literal notranslate"><span class="pre">ReverBug</span></code> by another looping function, <code class="docutils literal notranslate"><span class="pre">ReverLoop</span></code>, that is more appropriate for this test:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="bp">∇</span> <span class="nv">rev</span> <span class="kd">←</span> <span class="nv">ReverLoop</span> <span class="nv">vec</span><span class="sr">;</span><span class="nv">letter</span>
    <span class="nv">rev</span> <span class="kd">←</span> <span class="s1">&#39;&#39;</span>
    <span class="bp">:</span><span class="nv">For</span> <span class="nv">letter</span> <span class="bp">:</span><span class="nv">In</span> <span class="nv">vec</span>
        <span class="nv">rev</span> <span class="kd">←</span> <span class="nv">letter</span><span class="o">,</span><span class="nv">rev</span>
    <span class="bp">:</span><span class="nv">EndFor</span>
<span class="bp">∇</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="sr">]</span><span class="nv">dinput</span>
<span class="nv">Palindrome</span> <span class="kd">←</span> <span class="kt">{</span>
    <span class="nv">vector</span> <span class="kd">←</span> <span class="nv">Upper</span> <span class="bp">⍵</span>
    <span class="nv">torvec</span> <span class="kd">←</span> <span class="nv">ReverLoop</span> <span class="nv">vector</span>
    <span class="nv">torvec</span><span class="o">≡</span><span class="nv">vector</span>
<span class="kt">}</span>
</pre></div>
</div>
</div>
</div>
<p>Now we need to set the trace-controls.
If you are using the Windows IDE, you can do this with the GUI or programmatically via the <code class="docutils literal notranslate"><span class="pre">⎕TRACE</span></code> system function.
However, if you are using RIDE, you have to do it programmatically.
We cover the two cases here:</p>
<ol class="simple">
<li><p>Using the Windows IDE GUI, start by opening the edit window of the <code class="docutils literal notranslate"><span class="pre">ReverLoop</span></code> function and make sure the focus is in the edit window. Go to “View” ⇨ “Trace” and make sure that option is selected. When that option is selected, you get a new blank column in the edit window where you can set yellow markers like <a class="reference internal" href="#fig-win-set-trace-controls"><span class="std std-numref">Fig. 6.15</span></a> shows.</p></li>
</ol>
<div class="figure align-default" id="win-set-trace-controls">
<span id="fig-win-set-trace-controls"></span><img alt="_images/Win_Set_Trace_Controls.png" src="_images/Win_Set_Trace_Controls.png" />
<p class="caption"><span class="caption-number">Fig. 6.15 </span><span class="caption-text">Setting trace controls in the Windows IDE.</span><a class="headerlink" href="#win-set-trace-controls" title="Permalink to this image">¶</a></p>
</div>
<ol class="simple">
<li><p>For RIDE, or to set trace-controls programmatically on any platform, you can resort to <code class="docutils literal notranslate"><span class="pre">⎕TRACE</span></code> which works like <code class="docutils literal notranslate"><span class="pre">⎕STOP</span></code> does: <code class="docutils literal notranslate"><span class="pre">lines</span> <span class="pre">⎕TRACE</span> <span class="pre">'function'</span></code>, where <code class="docutils literal notranslate"><span class="pre">lines</span></code> is a numeric vector containing the lines where you want to set the trace-controls.</p></li>
</ol>
<p>If we wanted to programmatically set a trace-control for line 3 of the <code class="docutils literal notranslate"><span class="pre">ReverLoop</span></code> function, like the yellow marker in <a class="reference internal" href="#fig-win-set-trace-controls"><span class="std std-numref">Fig. 6.15</span></a> shows, we would write the following:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">3</span><span class="nf">⎕TRACE</span> <span class="s1">&#39;ReverLoop&#39;</span>
</pre></div>
</div>
</div>
</div>
<p>We can now execute the function, and each time the statement of line 3 is executed, Dyalog APL displays the name of the function, the line number, and the last value calculated on that line:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="nv">Palindrome</span> <span class="s1">&#39;Boring&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace"> #.ReverLoop[3]  B 
 #.ReverLoop[3]  OB 
 #.ReverLoop[3]  ROB 
 #.ReverLoop[3]  IROB 
 #.ReverLoop[3]  NIROB 
 #.ReverLoop[3]  GNIROB 
0

</span></div></div>
</div>
<p>What we can see above is the value assigned to <code class="docutils literal notranslate"><span class="pre">rev</span></code> every time we loop over a single letter of the <code class="docutils literal notranslate"><span class="pre">vec</span></code> we feed to <code class="docutils literal notranslate"><span class="pre">ReverLoop</span></code>.</p>
<p>We said that trace-controls in APL display the last value calculated in the lines where the trace-controls are set.
This can mean different things, depending on the structure of the statement on that line.
For example, in the lines <code class="docutils literal notranslate"><span class="pre">value</span> <span class="pre">←</span> <span class="pre">statement</span></code> and <code class="docutils literal notranslate"><span class="pre">vec[index]</span> <span class="pre">←</span> <span class="pre">value</span></code>, the contents of <code class="docutils literal notranslate"><span class="pre">value</span></code> would be the thing that gets printed if we set a trace-control for such a line:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="bp">∇</span> <span class="nv">vec</span> <span class="kd">←</span> <span class="nv">Test</span> <span class="sr">;</span><span class="nv">vec</span><span class="sr">;</span><span class="nv">value</span>
    <span class="nv">value</span> <span class="kd">←</span> <span class="m">¯3</span> <span class="o">+</span> <span class="m">1</span> <span class="m">2</span> <span class="m">3</span> <span class="m">4</span>  <span class="c1">⍝ [1]</span>
    <span class="nv">vec</span> <span class="kd">←</span> <span class="m">10</span><span class="o">⍴</span><span class="m">0</span>            <span class="c1">⍝ [2]</span>
    <span class="nv">vec</span><span class="sr">[</span><span class="m">3</span> <span class="m">4</span> <span class="m">5</span> <span class="m">6</span><span class="sr">]</span> <span class="kd">←</span> <span class="nv">value</span>  <span class="c1">⍝ [3]</span>
<span class="bp">∇</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">1</span> <span class="m">3</span><span class="nf">⎕TRACE</span> <span class="s1">&#39;Test&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="nv">Test</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace"> #.Test[1]  ¯2 ¯1 0 1 
 #.Test[3]  ¯2 ¯1 0 1 
0 0 ¯2 ¯1 0 1 0 0 0 0

</span></div></div>
</div>
<p>As you might imagine, if the traced function(s) perform many loops, this approach may produce pages and pages of output, especially if the results are large.
In this case, you will probably most often prefer the previous method.</p>
<p>Trace-controls can be removed in the same way as breakpoints:</p>
<ul class="simple">
<li><p>using the option under the “Action” menu to clear all stops from all objects in the workspace;</p></li>
<li><p>using <code class="docutils literal notranslate"><span class="pre">⍬⎕TRACE</span> <span class="pre">'function'</span></code> to remove the breakpoints from a single function; or</p></li>
<li><p>if you are on the Windows IDE you can also use the appropriate toolbar icon or remove the trace-controls one by one using the GUI of the editor window.</p></li>
</ul>
<p><strong>What now?</strong></p>
<p>This is enough for the moment.
With a little practice, you should be able to diagnose and correct programming errors.</p>
<p>If you have been using the Windows IDE or if you are eagle-eyed, you might have noticed that the “View” menu allows the user to toggle three different options that are grouped together: trace-controls, breakpoints, and monitors.
You will learn about monitors in the Specialist’s section of <span class="xref myst">the chapter on <em>system interfaces</em></span>.</p>
<p>Also, if you intend to program very professional end-user applications, you must protect your code against unexpected circumstances.
This can be done using “Exception processing”, which will be covered in <span class="xref myst">the chapter about event handling</span>, a chapter that complements the present one.</p>
</div>
</div>
</div>
<div class="section" id="exercises">
<span id="first-aid-kit-exercises"></span><h2><span class="section-number">6.4. </span>Exercises<a class="headerlink" href="#exercises" title="Permalink to this headline">¶</a></h2>
<p>There are no exercises in this chapter. Enjoy the break!</p>
<div class="figure align-default" id="apler-beginner-new">
<span id="fig-apler-beginner-new"></span><img alt="_images/APLer-Beginner_New.png" src="_images/APLer-Beginner_New.png" />
<p class="caption"><span class="caption-number">Fig. 6.16 </span><span class="caption-text">“Beginner APLer struggling with a nail.”</span><a class="headerlink" href="#apler-beginner-new" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="the-specialist-s-section">
<span id="first-aid-kit-the-specialists-section"></span><h2><span class="section-number">6.5. </span>The Specialist’s Section<a class="headerlink" href="#the-specialist-s-section" title="Permalink to this headline">¶</a></h2>
<br />
<center><i>Each chapter is followed by a "Specialist's Section" like this one. This section is dedicated to skilled APLers, who wish to improve their knowledge.</i>
<p>You will find here rare or complex usages of the concepts presented in this chapter, or discover extended explanations which need the knowledge of some symbols that will be seen much further in the book.</p>
<p><b>If you are exploring APL for the first time, skip this section and go to the next chapter.</b></center></p>
<div class="section" id="value-errors">
<span id="first-aid-kit-value-errors"></span><h3><span class="section-number">6.5.1. </span>Value Errors<a class="headerlink" href="#value-errors" title="Permalink to this headline">¶</a></h3>
<div class="section" id="namespaces">
<span id="first-aid-kit-namespaces"></span><h4><span class="section-number">6.5.1.1. </span>Namespaces<a class="headerlink" href="#namespaces" title="Permalink to this headline">¶</a></h4>
<p>If a <code class="docutils literal notranslate"><span class="pre">VALUE</span> <span class="pre">ERROR</span></code> occurs when you reference a function name, for example <code class="docutils literal notranslate"><span class="pre">GetText</span></code>, perhaps this function is not “visible” because it is located in a different <em>namespace</em>.
Type the command <code class="docutils literal notranslate"><span class="pre">)obs</span></code> to see if you have some <em>namespaces</em> and search through them to find the function.</p>
<p>Imagine that <code class="docutils literal notranslate"><span class="pre">GetText</span></code> exists in a <em>namespace</em> called <code class="docutils literal notranslate"><span class="pre">Files</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="nv">Files</span> <span class="kd">←</span> <span class="nf">⎕NS</span><span class="s1">&#39;&#39;</span>
<span class="nv">Files</span><span class="na">.</span><span class="nv">GetText</span> <span class="kd">←</span> <span class="kt">{</span> <span class="s1">&#39;Here is some text&#39;</span> <span class="kt">}</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="nv">GetText</span> <span class="no">⍬</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>VALUE ERROR: Undefined name: GetText
      GetText ⍬
      ∧
</pre></div>
</div>
</div>
</div>
<p>You have two ways to execute <code class="docutils literal notranslate"><span class="pre">GetText</span></code> from the <em>root</em> namespace:</p>
<ul class="simple">
<li><p>give its full path when calling the function;</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="nv">Files</span><span class="na">.</span><span class="nv">GetText</span> <span class="no">⍬</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">Here is some text

</span></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="c1">#.Files.GetText ⍬</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">Here is some text

</span></div></div>
</div>
<ul class="simple">
<li><p>set a global path to this <em>namespace</em> then call the function normally.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="nf">⎕PATH</span> <span class="kd">←</span> <span class="s1">&#39;Files&#39;</span>
<span class="nv">GetText</span> <span class="no">⍬</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">Here is some text

</span></div></div>
</div>
</div>
<div class="section" id="nightmare">
<span id="first-aid-kit-nightmare"></span><h4><span class="section-number">6.5.1.2. </span>Nightmare<a class="headerlink" href="#nightmare" title="Permalink to this headline">¶</a></h4>
<p>You expected to define a function named <code class="docutils literal notranslate"><span class="pre">Travel</span></code> and wrongly defined a function named <code class="docutils literal notranslate"><span class="pre">west</span></code> (see <code class="xref std std-numref docutils literal notranslate"><span class="pre">First-Aid-Kit-VALUE-ERROR-E28E95EN--6</span></code>)):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="bp">∇</span> <span class="nv">z</span> <span class="kd">←</span> <span class="nv">west</span> <span class="nv">Traveleast</span>
    <span class="nv">z</span> <span class="kd">←</span> <span class="nv">west</span><span class="o">-</span><span class="nv">east</span>
<span class="bp">∇</span>
</pre></div>
</div>
</div>
</div>
<p>If you try to execute <code class="docutils literal notranslate"><span class="pre">west</span></code>,</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="nv">west</span> <span class="m">100</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>VALUE ERROR: Undefined name: east
west[1] z←west-east
               ∧
</pre></div>
</div>
</div>
</div>
<p>you get a <code class="docutils literal notranslate"><span class="pre">VALUE</span> <span class="pre">ERROR</span></code> on the first statement if <code class="docutils literal notranslate"><span class="pre">east</span></code> does not exist as a global variable.</p>
<p>But suppose that you <em>do</em> have a numeric global variable named <code class="docutils literal notranslate"><span class="pre">east</span></code>.
Then the first statement will be executed successfully, and <code class="docutils literal notranslate"><span class="pre">west</span></code> will call itself recursively, endlessly applying to the same argument (<code class="docutils literal notranslate"><span class="pre">-east</span></code>), with no exit condition, until the execution stack fills up the workspace.
You will then have an error message like <em>“The current trace stack is 395967 levels deep, etc.”</em>.
In the status field that displays the depth of the <em>state indicator</em>, you will see a high value.</p>
<p>Trying to do anything at this point, even a naked branch, may not work simply because you have run out of workspace, and APL will issue a <code class="docutils literal notranslate"><span class="pre">WS</span> <span class="pre">FULL</span></code> on any attempt to resolve the situation.</p>
<p>Just type <code class="docutils literal notranslate"><span class="pre">)reset</span></code> to get out of this nightmare, then go and have a strong cup of coffee.</p>
<p>While drinking it, you can think about how you learned to interrupt a function in <a class="reference internal" href="User-Defined-Functions.html#user-defined-functions-endless-loops"><span class="std std-numref">Section 5.7.7</span></a>, so that you do not have to wait for the workspace to be eaten up before you can regain control, if (read: when) this happens again.</p>
</div>
<div class="section" id="sinl">
<span id="first-aid-kit-sinl"></span><h4><span class="section-number">6.5.1.3. </span><code class="docutils literal notranslate"><span class="pre">)sinl</span></code><a class="headerlink" href="#sinl" title="Permalink to this headline">¶</a></h4>
<p>When diagnosing a problem, you generally use <code class="docutils literal notranslate"><span class="pre">)si</span></code>.
However, you can obtain additional information with <code class="docutils literal notranslate"><span class="pre">)sinl</span></code>, which also gives all the <strong>local</strong> names used by the suspended functions, whether or not they have already been calculated.
The <code class="docutils literal notranslate"><span class="pre">nl</span></code> stands for “name list”.</p>
<p>For example, when <code class="docutils literal notranslate"><span class="pre">Palindrome</span></code> crashed because our <code class="docutils literal notranslate"><span class="pre">ReverBug</span></code> implementation had a typo in the expression <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">←</span> <span class="pre">frm+1</span></code>, we could have used <code class="docutils literal notranslate"><span class="pre">)sinl</span></code>:</p>
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span>      <span class="nv">Palindrome</span> <span class="s1">&#39;Was it a car or a cat I saw?&#39;</span>
<span class="nv">VALUE</span> <span class="nv">ERROR</span><span class="bp">:</span> <span class="nv">Undefined</span> <span class="nv">name</span><span class="bp">:</span> <span class="nv">frm</span>
<span class="nv">ReverBug</span><span class="sr">[</span><span class="m">4</span><span class="sr">]</span> <span class="nv">from</span><span class="kd">←</span><span class="nv">frm</span><span class="o">+</span><span class="m">1</span>
                 <span class="o">∧</span>
      <span class="p">)</span><span class="nv">sinl</span>
<span class="c1">#.ReverBug[4]*  vec     rev     from    to</span>
<span class="c1">#.Palindrome[2] vec</span>
</pre></div>
</div>
<p>Notice that, when the crash occurred, <code class="docutils literal notranslate"><span class="pre">to</span></code> hadn’t been assigned to yet, but its name is nevertheless reported by <code class="docutils literal notranslate"><span class="pre">)sinl</span></code>.
This happens because the header of the <code class="docutils literal notranslate"><span class="pre">ReverBug</span></code> tradfn contains a list of all the local names to <code class="docutils literal notranslate"><span class="pre">ReverBug</span></code>, where <code class="docutils literal notranslate"><span class="pre">to</span></code> shows up.</p>
</div>
<div class="section" id="namespaces-and-indicators">
<span id="first-aid-kit-namespaces-and-indicators"></span><h4><span class="section-number">6.5.1.4. </span>Namespaces and Indicators<a class="headerlink" href="#namespaces-and-indicators" title="Permalink to this headline">¶</a></h4>
<div class="section" id="extended-state-indicator">
<span id="first-aid-kit-extended-state-indicator"></span><h5><span class="section-number">6.5.1.4.1. </span>Extended State Indicator<a class="headerlink" href="#extended-state-indicator" title="Permalink to this headline">¶</a></h5>
<p>When a function crashes, the information reported by <code class="docutils literal notranslate"><span class="pre">)si</span></code> includes the full path to the functions on the execution stack.
This is why all the lines begin with a <em>hash</em>: the <em>root</em> namespace identifier.</p>
<p>For example, suppose that we write a function named <code class="docutils literal notranslate"><span class="pre">MyFile</span></code> which calls <code class="docutils literal notranslate"><span class="pre">GetText</span></code> which is located in the <em>namespace</em> <code class="docutils literal notranslate"><span class="pre">Files</span></code>, and this last function crashes:</p>
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span>      )si
#.[Namespace].GetText[1]*
#.MyFile[0]
      ⎕SI
┌───────┬──────┐
│GetText│MyFile│
└───────┴──────┘
</pre></div>
</div>
<p>Note that <code class="docutils literal notranslate"><span class="pre">⎕SI</span></code> only reports the function names, not the full paths to them.
You can obtain that information using the <em>extended</em> SI, represented by the system function <code class="docutils literal notranslate"><span class="pre">⎕XSI</span></code>, as shown:</p>
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span>      ⎕XSI
┌─────────────────────┬────────┐
│#.[Namespace].GetText│#.MyFile│
└─────────────────────┴────────┘
</pre></div>
</div>
<p>This may help you to open a function in the editor, even if it is being executed in a different <em>namespace</em> using <code class="docutils literal notranslate"><span class="pre">⎕CS</span></code>.</p>
<p>For example, you could edit the functions in the stack using <code class="docutils literal notranslate"><span class="pre">⎕ED</span> <span class="pre">⎕XSI</span></code> to edit all the functions or using <code class="docutils literal notranslate"><span class="pre">⎕ED</span> <span class="pre">⊃⎕XSI</span></code> to edit only the first one.</p>
</div>
<div class="section" id="namespace-indicator">
<span id="first-aid-kit-namespace-indicator"></span><h5><span class="section-number">6.5.1.4.2. </span>Namespace Indicator<a class="headerlink" href="#namespace-indicator" title="Permalink to this headline">¶</a></h5>
<p>A function located in a <em>namespace</em> can be called from any other namespace.
It may be important to know from where it was called.
This information is given by <code class="docutils literal notranslate"><span class="pre">⎕NSI</span></code>.</p>
<p>Let us consider the following scenario:</p>
<p>A workspace contains two <em>namespaces</em>: <code class="docutils literal notranslate"><span class="pre">ToolBox</span></code> contains some user-defined functions and <code class="docutils literal notranslate"><span class="pre">Files</span></code> is a Dyalog-provided set of utilities to deal with files, that we can load for our example:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="p">)</span><span class="nv">load</span> <span class="nv">Files</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">C:\Program Files\Dyalog\Dyalog APL-64 18.0 Unicode\ws\Files.dws saved Tue Dec  1 20:08:18 2020
</span></div></div>
</div>
<p>The main workspace of the example contains the following function:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="bp">∇</span> <span class="nv">r</span> <span class="kd">←</span> <span class="nv">Application</span> <span class="nv">filename</span><span class="sr">;</span><span class="nv">sink</span>
    <span class="nv">sink</span> <span class="kd">←</span> <span class="s1">&#39;Any top level statements&#39;</span>
    <span class="nv">r</span> <span class="kd">←</span> <span class="c1">#.ToolBox.Control filename</span>
<span class="bp">∇</span>
</pre></div>
</div>
</div>
</div>
<p>This main program calls <code class="docutils literal notranslate"><span class="pre">Control</span></code> (located in <code class="docutils literal notranslate"><span class="pre">ToolBox</span></code>):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;ToolBox&#39;</span><span class="nf">⎕NS</span><span class="s1">&#39;&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="bp">∇</span> <span class="nv">r</span> <span class="kd">←</span> <span class="nv">Control</span> <span class="nv">filename</span><span class="sr">;</span><span class="nv">sink</span>
    <span class="nv">sink</span> <span class="kd">←</span> <span class="s1">&#39;Any ToolBox statements&#39;</span>
    <span class="nf">⎕CS</span><span class="s1">&#39;#&#39;</span>
    <span class="nv">r</span> <span class="kd">←</span> <span class="nv">Files</span><span class="na">.</span><span class="nv">ReadAllText</span> <span class="nv">globalPath</span><span class="o">,</span><span class="nv">filename</span>
<span class="bp">∇</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="c1">⍝ (Ugly) workaround to create the Control function inside its namespace</span>
<span class="c1">⍝ when using the Jupyter notebook.</span>
<span class="nv">ToolBox</span><span class="na">.</span><span class="nv">Control</span> <span class="kd">←</span> <span class="nv">Control</span>
</pre></div>
</div>
</div>
</div>
<p>And on the line before <code class="docutils literal notranslate"><span class="pre">Control</span></code> calls <code class="docutils literal notranslate"><span class="pre">ReadAllText</span></code> (located in the <code class="docutils literal notranslate"><span class="pre">Files</span></code> <em>namespace</em>), it switches execution (it is running in <code class="docutils literal notranslate"><span class="pre">#.ToolBox</span></code>) to the <em>root</em> namespace (<code class="docutils literal notranslate"><span class="pre">⎕CS'#'</span></code>) in order to execute the expression <code class="docutils literal notranslate"><span class="pre">Files.ReadAllText</span></code> from <code class="docutils literal notranslate"><span class="pre">#</span></code>.</p>
<p>When we try to apply the main function to a missing file, an error occurs:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="nv">globalPath</span> <span class="kd">←</span> <span class="s1">&#39;c:/tmp/&#39;</span>
<span class="nv">Application</span> <span class="s1">&#39;milk.txt&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>FILE NAME ERROR: c:/tmp/milk.txt: Unable to open file (&quot;The system cannot find the file specified.&quot;)
ReadAllText[3] tn←name ⎕NTIE 0
                       ∧
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">⎕SI</span></code> only reports the suspended functions:</p>
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span>      ⎕SI
┌───────────┬───────┬───────────┐
│ReadAllText│Control│Application│
└───────────┴───────┴───────────┘
</pre></div>
</div>
<p>This is a bit poor, because we cannot see whether or not these three functions are in the same <em>namespace</em>.
However, <code class="docutils literal notranslate"><span class="pre">⎕XSI</span></code> and <code class="docutils literal notranslate"><span class="pre">⎕NSI</span></code> give us more information:</p>
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span>      ⎕XSI
┌───────────────────┬─────────┬─────────────┐
│#.Files.ReadAllText│#.Control│#.Application│
└───────────────────┴─────────┴─────────────┘
      ⎕NSI
┌─┬─┬─┐
│#│#│#│
└─┴─┴─┘
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">⎕XSI</span></code> indicates <em>where</em> each function is <em>located</em>: <code class="docutils literal notranslate"><span class="pre">ReadAllText</span></code> in <code class="docutils literal notranslate"><span class="pre">Files</span></code> and <code class="docutils literal notranslate"><span class="pre">Control</span></code> in <code class="docutils literal notranslate"><span class="pre">ToolBox</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">⎕NSI</span></code> indicates <em>from where</em> each function has been <em>called</em>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Application</span></code> was of course executed in the <em>root</em>;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Control</span></code> was called by <code class="docutils literal notranslate"><span class="pre">Application</span></code> from the <em>root</em>, using its full path; and</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ReadAllText</span></code> was called by <code class="docutils literal notranslate"><span class="pre">Control</span></code>. But because that function had just executed <code class="docutils literal notranslate"><span class="pre">⎕CS'#'</span></code>, it was running in the <em>root namespace</em>. So, <code class="docutils literal notranslate"><span class="pre">ReadAllText</span></code> was finally called from the <em>root</em>, too.</p></li>
</ul>
<p>This explains why the three functions have been called from the <em>root</em>.</p>
<p>The traditional <em>state indicator</em> has also been extended in Dyalog APL:</p>
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span>      <span class="p">)</span><span class="nv">si</span>
<span class="c1">#.Files.ReadAllText[3]*</span>
<span class="sr">[</span><span class="c1">#] #.ToolBox.Control[3]</span>
<span class="c1">#.Application[2]</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">[#]</span></code> before <code class="docutils literal notranslate"><span class="pre">#.ToolBox.Control[3]</span></code> means there has been a switch to that namespace.</p>
<p>Let us change <code class="docutils literal notranslate"><span class="pre">Control</span></code> a little so that this function no longer executes its last line in the <em>root</em> namespace (the second statement is commented out).
This needs some minor changes to the third statement so that it can “see” the global names:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="bp">∇</span> <span class="nv">r</span> <span class="kd">←</span> <span class="nv">Control</span> <span class="nv">filename</span><span class="sr">;</span><span class="nv">sink</span>
    <span class="nv">sink</span> <span class="kd">←</span> <span class="s1">&#39;Any ToolBox statements&#39;</span>
    <span class="c1">⍝ ⎕CS&#39;#&#39;</span>
    <span class="nv">r</span> <span class="kd">←</span> <span class="c1">#.Files.ReadAllText #.globalPath,filename</span>
<span class="bp">∇</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="nv">ToolBox</span><span class="na">.</span><span class="nv">Control</span> <span class="kd">←</span> <span class="nv">Control</span>
</pre></div>
</div>
</div>
</div>
<p>Of course, the execution fails again, but we now get slightly different information:</p>
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span>      ⎕XSI
┌───────────────────┬─────────────────┬─────────────┐
│#.Files.ReadAllText│#.ToolBox.Control│#.Application│
└───────────────────┴─────────────────┴─────────────┘
      ⎕NSI
┌─────────┬─┬─┐
│#.ToolBox│#│#│
└─────────┴─┴─┘
</pre></div>
</div>
<p>Nothing has changed in <code class="docutils literal notranslate"><span class="pre">⎕XSI</span></code> (the functions are still located in the same places), but now <code class="docutils literal notranslate"><span class="pre">⎕NSI</span></code> reports that <code class="docutils literal notranslate"><span class="pre">ReadAllText</span></code> was no longer called from the <em>root</em>, but was called from <code class="docutils literal notranslate"><span class="pre">ToolBox</span></code> where <code class="docutils literal notranslate"><span class="pre">Control</span></code> was executing.
This is also visible in the <em>state indicator</em>:</p>
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span>      <span class="p">)</span><span class="nv">si</span>
<span class="c1">#.Files.ReadAllText[3]*</span>
<span class="c1">#.ToolBox.Control[3]</span>
<span class="c1">#.Application[2]</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">[#]</span></code> has disappeared.</p>
</div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "dyalog-kernel"
        },
        kernelOptions: {
            kernelName: "dyalog-kernel",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'dyalog-kernel'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="User-Defined-Functions.html" title="previous page"><span class="section-number">5. </span>User-Defined Functions</a>
    <a class='right-next' id="next-link" href="Execute-and-Format-Control.html" title="next page"><span class="section-number">7. </span>Execute &amp; Format Control</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Bernard Legrand, reworked by Rodrigo Girão Serrão.<br/>
        
          <div class="extra_footer">
            <p><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">
  <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" />
</a></p>
<p>This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>.</p>

          </div>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="_static/js/index.d3f166471bb80abb5163.js"></script>


    
  </body>
</html>